{
  "version": 3,
  "sources": [
    "Logger.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "__level",
    "setLevel",
    "value",
    "getLevel",
    "setTreshold",
    "__buffer",
    "setMaxMessages",
    "getTreshold",
    "getMaxMessages",
    "__appenders",
    "__appendersByName",
    "__filters",
    "__id",
    "register",
    "appender",
    "$$id",
    "id",
    "classname",
    "entries",
    "getAllLogEvents",
    "i",
    "l",
    "length",
    "entry",
    "appenders",
    "__getAppenders",
    "loggerName",
    "level",
    "process",
    "unregister",
    "addFilter",
    "logger",
    "appenderName",
    "RegExp",
    "push",
    "loggerMatch",
    "resetFilters",
    "debug",
    "object",
    "message",
    "log",
    "Logger",
    "__log",
    "arguments",
    "info",
    "warn",
    "error",
    "trace",
    "isLoggerEnabled",
    "dev",
    "StackTrace",
    "getStackTrace",
    "args",
    "lang",
    "Array",
    "fromArguments",
    "join",
    "deprecatedMethodWarning",
    "fcn",
    "msg",
    "core",
    "Environment",
    "get",
    "functionName",
    "Function",
    "getName",
    "deprecatedClassWarning",
    "clazz",
    "className",
    "deprecatedEventWarning",
    "event",
    "self",
    "deprecatedMixinWarning",
    "mixinName",
    "name",
    "deprecatedConstantWarning",
    "constant",
    "__defineGetter__",
    "constantValue",
    "deprecateMethodOverriding",
    "baseclass",
    "methodName",
    "constructor",
    "prototype",
    "hasOwnProperty",
    "superclass",
    "clear",
    "clearHistory",
    "RingBuffer",
    "__levels",
    "__appendersCache",
    "__getLoggerName",
    "Object",
    "keys",
    "start",
    "items",
    "__serialize",
    "time",
    "Date",
    "offset",
    "LOADSTART",
    "win",
    "window",
    "$$hash",
    "undefined",
    "$$type",
    "levels",
    "cacheId",
    "filter",
    "test",
    "__detect",
    "type",
    "nodeType",
    "Error",
    "toString",
    "deep",
    "text",
    "nodeValue",
    "nodeName",
    "toLowerCase",
    "basename",
    "getStackTraceFromError",
    "temp",
    "sorted",
    "key",
    "sort",
    "number",
    "defer",
    "logs",
    "$$logs"
  ],
  "mappings": "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",
  "file": "Logger.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * John Spackman (john.spackman@zenesis.com)\n\n************************************************************************ */\n\n/**\n * Main qooxdoo logging class.\n *\n * Used as central logging feature by qx.core.Object.\n *\n * Extremely modular and lightweight to support logging at bootstrap and\n * at shutdown as well.\n *\n * * Supports dynamic appenders to push the output to the user\n * * Supports buffering of the last 50 messages (configurable)\n * * Supports different debug levels (\"debug\", \"info\", \"warn\" or \"error\")\n * * Simple data serialization for incoming messages\n *\n * Typical use of this class is via qx.core.MLogging which is included into most\n * classes, so you would use \"this.debug(...)\" etc, but qx.log.Logger.debug(),\n * .warn(), .error(), .info(), and .trace() can be used directly for static code.\n *\n * The first parameter is expected to be the context object, ie the object which\n * is sending the log; this can be null but that will prevent the filtering from\n * filtering on class name so ideally it will be a real qx.core.Object derived\n * object.  Other parameters are any Javascript object which will be serialized\n * into the log message\n *\n * <pre class=\"javascript\">\n *  qx.log.Logger.warn(myObject, \"This is a message to log\", myParam, otherData);\n * </pre>\n *\n *\n * The output of logging is controlled by \"appenders\", which are classes that\n * accept a log message and output it somehow (see examples in qx.log.appender.*);\n * typical examples are qx.log.appender.Console which outputs to the browser\n * console, or qx.log.appender.Native which outputs messages into a popup\n * window as part of your Qooxdoo UI.\n *\n * While it's quick and easy to add logging calls to code as and when you need it,\n * it is often convenient to control which logging calls output messages at runtime\n * rather than having to edit code. @see qx.log.Logger#addFilter\n *\n * @require(qx.dev.StackTrace)\n */\nqx.Bootstrap.define(\"qx.log.Logger\",\n{\n  statics :\n  {\n    /*\n    ---------------------------------------------------------------------------\n      CONFIGURATION\n    ---------------------------------------------------------------------------\n    */\n\n    __level : \"debug\",\n\n\n    /**\n     * Configures the minimum log level required for new messages.\n     *\n     * @param value {String} One of \"debug\", \"info\", \"warn\" or \"error\".\n     */\n    setLevel : function(value) {\n      this.__level = value;\n    },\n\n\n    /**\n     * Returns the currently configured minimum log level required for new\n     * messages.\n     *\n     * @return {Integer} Debug level\n     */\n    getLevel : function() {\n      return this.__level;\n    },\n\n\n    /**\n     * Configures the number of messages to be kept in the buffer.\n     *\n     * @param value {Integer} Any positive integer\n     */\n    setTreshold : function(value) {\n      this.__buffer.setMaxMessages(value);\n    },\n\n\n    /**\n     * Returns the currently configured number of messages to be kept in the\n     * buffer.\n     *\n     * @return {Integer} Treshold value\n     */\n    getTreshold : function() {\n      return this.__buffer.getMaxMessages();\n    },\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      APPENDER MANAGEMENT\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {Map} Map of all known appenders by ID */\n    __appenders : [],\n\n\n    /** @type {Map} Map of all known appenders by name */\n    __appendersByName: {},\n\n\n    /** @type {Array} Array of filters to apply when selecting appenders to append to */\n    __filters: [],\n\n\n    /** @type {Integer} Last free appender ID */\n    __id : 0,\n\n\n    /**\n     * Registers the given appender and inserts the last cached messages.\n     *\n     * @param appender {Class} A static appender class supporting at\n     *   least a <code>process()</code> method to handle incoming messages.\n     */\n    register : function(appender)\n    {\n      if (appender.$$id) {\n        return;\n      }\n\n      // Register appender\n      var id = this.__id++;\n      this.__appenders[id] = appender;\n      this.__appendersByName[appender.classname] = appender;\n      appender.$$id = id;\n\n      // Insert previous messages\n      var entries = this.__buffer.getAllLogEvents();\n      for (var i=0, l=entries.length; i<l; i++) {\n        var entry = entries[i];\n\n        var appenders = this.__getAppenders(entry.loggerName, entry.level);\n        if (appenders[appender.classname]) {\n          appender.process(entry);\n        }\n      }\n    },\n\n\n    /**\n     * Unregisters the given appender\n     *\n     * @param appender {Class} A static appender class\n     */\n    unregister : function(appender)\n    {\n      var id = appender.$$id;\n      if (id == null) {\n        return;\n      }\n\n      delete this.__appendersByName[appender.classname];\n      delete this.__appenders[id];\n      delete appender.$$id;\n    },\n\n\n    /**\n     * Adds a filter that specifies the appenders to use for a given logger name (classname).\n     *\n     * By default, every log entry is output to all appenders but you can change this\n     * behaviour by calling qx.log.Logger.addFilter; every log message is associated\n     * with a class and a logging level (ie debug, warn, info, error, etc) and you can\n     * apply a filter on either one.\n     *\n     * For example, to restrict the output to only allow qx.ui.* classes to output debug\n     * logging information you would use this:\n     *\n     *  <pre class=\"javascript\">\n     *    qx.log.Logger.addFilter(/^qx\\.ui/, null, \"debug\");\n     *  </pre>\n     *\n     * Note that while the default is to log everything, as soon as you apply one filter\n     * you are specifying an exhaustive list of classes; so if you use the above example,\n     * the ONLY classes that will be able to log is qx.ui.*.  If you want to use multiple\n     * classes to the output, just add more addFilter calls.\n     *\n     * The logging level (eg \"debug\", \"error\", etc) is greater than or equal to - so in\n     * the above example, debug, error, warn, and info will be output but trace will not.\n     *\n     * The second parameter to addFilter is the classname of the appender to use; this\n     * allows you to specify that log messages only go to one destination; for example:\n     *\n     *  <pre class=\"javascript\">\n     *    qx.log.Logger.addFilter(/^qx\\.ui/, \"qx.log.appender.Console\", \"warn\");\n     *    qx.log.Logger.addFilter(/^qx\\.io/, \"qx.log.appender.Native\", \"debug\");\n     *    qx.log.Logger.addFilter(/^qx\\.io/, \"qx.log.appender.Console\", \"error\");\n     *  </pre>\n     *\n     * In this example, qx.ui.* will only go to the Console appender and only if a warning\n     * is issued; qx.io.* will go to Native for debug, error, warn, and info and to\n     * Console for error, warn, and info\n     *\n     * @param logger {String|RegExp} the pattern to match in the logger name\n     * @param appenderName {String?} the name of the appender class, if undefined then all appenders\n     * @param level {String?} the minimum logging level to use the appender, if undefined the default level is used\n     */\n    addFilter: function(logger, appenderName, level) {\n      if (typeof logger == \"string\") {\n        logger = new RegExp(logger);\n      }\n      this.__filters.push({ loggerMatch: logger, level: level||this.__level, appenderName: appenderName });\n    },\n\n    /**\n     * Reset all filters\n     */\n    resetFilters: function() {\n      this.__filters = [];\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      USER METHODS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Sending a message at level \"debug\" to the logger.\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     * @param message {var} Any number of arguments supported. An argument may\n     *   have any JavaScript data type. All data is serialized immediately and\n     *   does not keep references to other objects.\n     */\n    debug : function(object, message) {\n      qx.log.Logger.__log(\"debug\", arguments);\n    },\n\n\n    /**\n     * Sending a message at level \"info\" to the logger.\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     * @param message {var} Any number of arguments supported. An argument may\n     *   have any JavaScript data type. All data is serialized immediately and\n     *   does not keep references to other objects.\n     */\n    info : function(object, message) {\n      qx.log.Logger.__log(\"info\", arguments);\n    },\n\n\n    /**\n     * Sending a message at level \"warn\" to the logger.\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     * @param message {var} Any number of arguments supported. An argument may\n     *   have any JavaScript data type. All data is serialized immediately and\n     *   does not keep references to other objects.\n     */\n    warn : function(object, message) {\n      qx.log.Logger.__log(\"warn\", arguments);\n    },\n\n\n    /**\n     * Sending a message at level \"error\" to the logger.\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     * @param message {var} Any number of arguments supported. An argument may\n     *   have any JavaScript data type. All data is serialized immediately and\n     *   does not keep references to other objects.\n     */\n    error : function(object, message) {\n      qx.log.Logger.__log(\"error\", arguments);\n    },\n\n\n    /**\n     * Prints the current stack trace at level \"info\"\n     *\n     * @param object {Object?} Contextual object (either instance or static class)\n     * @param message {var} Any number of arguments supported. An argument may\n     *   have any JavaScript data type. All data is serialized immediately and\n     *   does not keep references to other objects.\n     */\n    trace : function(object, message) {\n      if (qx.log.Logger.isLoggerEnabled(\"trace\", object)) {\n        var trace = qx.dev.StackTrace.getStackTrace();\n        var args = qx.lang.Array.fromArguments(arguments);\n        args.push(trace.join(\"\\n\"));\n        qx.log.Logger.__log(\"trace\", args);\n      }\n    },\n\n\n    /**\n     * Prints a method deprecation warning and a stack trace if the setting\n     * <code>qx.debug</code> is set to <code>true</code>.\n     *\n     * @param fcn {Function} reference to the deprecated function. This is\n     *     arguments.callee if the calling method is to be deprecated.\n     * @param msg {String?} Optional message to be printed.\n     */\n    deprecatedMethodWarning : function(fcn, msg)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var functionName = qx.lang.Function.getName(fcn);\n        this.warn(\n          \"The method '\"+ functionName + \"' is deprecated: \" +\n          (msg || \"Please consult the API documentation of this method for alternatives.\")\n        );\n        this.trace();\n      }\n    },\n\n\n    /**\n     * Prints a class deprecation warning and a stack trace if the setting\n     * <code>qx.debug</code> is set to <code>true</code>.\n     *\n     * @param clazz {Class} reference to the deprecated class.\n     * @param msg {String?} Optional message to be printed.\n     */\n    deprecatedClassWarning : function(clazz, msg)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var className = clazz.classname || \"unknown\";\n        this.warn(\n          \"The class '\"+className+\"' is deprecated: \" +\n          (msg || \"Please consult the API documentation of this class for alternatives.\")\n        );\n        this.trace();\n      }\n    },\n\n\n    /**\n     * Prints an event deprecation warning and a stack trace if the setting\n     * <code>qx.debug</code> is set to <code>true</code>.\n     *\n     * @param clazz {Class} reference to the deprecated class.\n     * @param event {String} deprecated event name.\n     * @param msg {String?} Optional message to be printed.\n     */\n    deprecatedEventWarning : function(clazz, event, msg)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var className = clazz.self ? clazz.self.classname : \"unknown\";\n        this.warn(\n          \"The event '\"+(event || \"unknown\")+\"' from class '\"+className+\"' is deprecated: \" +\n          (msg || \"Please consult the API documentation of this class for alternatives.\")\n        );\n        this.trace();\n      }\n    },\n\n\n    /**\n     * Prints a mixin deprecation warning and a stack trace if the setting\n     * <code>qx.debug</code> is set to <code>true</code>.\n     *\n     * @param clazz {Class} reference to the deprecated mixin.\n     * @param msg {String?} Optional message to be printed.\n     */\n    deprecatedMixinWarning : function(clazz, msg)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var mixinName = clazz ? clazz.name : \"unknown\";\n        this.warn(\n          \"The mixin '\"+mixinName+\"' is deprecated: \" +\n          (msg || \"Please consult the API documentation of this class for alternatives.\")\n        );\n        this.trace();\n      }\n    },\n\n\n    /**\n     * Prints a constant deprecation warning and a stacktrace if the setting\n     * <code>qx.debug</code> is set to <code>true</code> AND the browser supports\n     * __defineGetter__!\n     *\n     * @param clazz {Class} The class the constant is attached to.\n     * @param constant {String} The name of the constant as string.\n     * @param msg {String} Optional message to be printed.\n     */\n    deprecatedConstantWarning : function(clazz, constant, msg)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        // check if __defineGetter__ is available\n        if (clazz.__defineGetter__) {\n          var self = this;\n          var constantValue = clazz[constant];\n          clazz.__defineGetter__(constant, function() {\n            self.warn(\n              \"The constant '\"+ constant + \"' is deprecated: \" +\n              (msg || \"Please consult the API documentation for alternatives.\")\n            );\n            self.trace();\n            return constantValue;\n          });\n        }\n      }\n    },\n\n\n    /**\n     * Prints a deprecation warning and a stacktrace when a subclass overrides\n     * the passed method name. The deprecation is only printed if the setting\n     * <code>qx.debug</code> is set to <code>true</code>.\n     *\n     *\n     * @param object {qx.core.Object} Instance to check for overriding.\n     * @param baseclass {Class} The baseclass as starting point.\n     * @param methodName {String} The method name which is deprecated for overriding.\n     * @param msg {String?} Optional message to be printed.\n     */\n    deprecateMethodOverriding : function(object, baseclass, methodName, msg)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        var clazz = object.constructor;\n\n        while(clazz.classname !== baseclass.classname)\n        {\n          if (clazz.prototype.hasOwnProperty(methodName))\n          {\n            this.warn(\n              \"The method '\" + qx.lang.Function.getName(object[methodName]) +\n              \"' overrides a deprecated method: \" +\n              (msg || \"Please consult the API documentation for alternatives.\")\n            );\n            this.trace();\n            break;\n          }\n          clazz = clazz.superclass;\n        }\n      }\n    },\n\n\n    /**\n     * Deletes the current buffer. Does not influence message handling of the\n     * connected appenders.\n     *\n     */\n    clear : function() {\n      this.__buffer.clearHistory();\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      INTERNAL LOGGING IMPLEMENTATION\n    ---------------------------------------------------------------------------\n    */\n\n    /** @type {qx.log.appender.RingBuffer} Message buffer of previously fired messages. */\n    __buffer : new qx.log.appender.RingBuffer(50),\n\n\n    /** @type {Map} Numeric translation of log levels */\n    __levels :\n    {\n      trace: 0,\n      debug : 1,\n      info : 2,\n      warn : 3,\n      error : 4\n    },\n\n    /** @type {Map} cache of appenders for a given logger and level */\n    __appendersCache: {},\n\n\n    /**\n     * Detects the name of the logger to use for an object\n     *\n     * @param object {Object} Contextual object (either instance or static class)\n     * @return {String} Logger name\n     */\n    __getLoggerName: function(object) {\n      if (object) {\n        if (object.classname) {\n          return object.classname;\n        }\n        if (typeof object == \"string\") {\n          return object;\n        }\n      }\n      return \"[default]\";\n    },\n\n\n    /**\n     * Detects whether a logger level is enabled for an object\n     *\n     * @param level {String} One of \"trace\", \"debug\", \"info\", \"warn\" or \"error\"\n     * @param object {Object} Contextual object (either instance or static class)\n     * @return {Boolean} True if the logger is enabled\n     */\n    isLoggerEnabled: function(level, object) {\n      var loggerName = this.__getLoggerName(object);\n      var appenders = this.__getAppenders(loggerName, level);\n      return !!Object.keys(appenders).length;\n    },\n\n\n    /**\n     * Internal logging main routine.\n     *\n     * @param level {String} One of \"trace\", \"debug\", \"info\", \"warn\" or \"error\"\n     * @param args {Array} List of other arguments, where the first is\n     *   taken as the context object.\n     */\n    __log : function(level, args)\n    {\n      // Get object and determine appenders\n      var object = args.length < 2 ? null : args[0];\n      var loggerName = this.__getLoggerName(object);\n      var appenders = this.__getAppenders(loggerName, level);\n      if (!Object.keys(appenders).length) {\n        return;\n      }\n\n      // Serialize and cache\n      var start = object ? 1 : 0;\n      var items = [];\n      for (var i=start, l=args.length; i<l; i++) {\n        items.push(this.__serialize(args[i], true));\n      }\n\n      // Build entry\n      var time = new Date;\n      var entry =\n      {\n        time : time,\n        offset : time-qx.Bootstrap.LOADSTART,\n        level: level,\n        loggerName: loggerName,\n        items: items,\n        // store window to allow cross frame logging\n        win: window\n      };\n\n      // Add relation fields\n      if (object)\n      {\n        // Do not explicitly check for instanceof qx.core.Object, in order not\n        // to introduce an unwanted load-time dependency\n        if (object.$$hash !== undefined) {\n          entry.object = object.$$hash;\n        }\n        if (object.$$type) {\n          entry.clazz = object;\n        } else if (object.constructor) {\n          entry.clazz = object.constructor;\n        }\n      }\n\n      this.__buffer.process(entry);\n\n      // Send to appenders\n      for (var classname in appenders) {\n        appenders[classname].process(entry);\n      }\n    },\n\n\n    /**\n     * Finds the appenders for a given classname\n     *\n     * @param className {String} Name of the class\n     * @param level {String} the minimum logging level to use the appender\n     * @return {Array} list of appenders\n     */\n    __getAppenders: function(className, level) {\n      var levels = this.__levels;\n\n      // If no filters, then all appenders apply\n      if (!this.__filters.length) {\n        // Check the default level\n        if (levels[level] < levels[this.__level]) {\n          return [];\n        }\n        return this.__appendersByName;\n      }\n\n      // Check the cache\n      var cacheId = className + \"|\" + level;\n      var appenders = this.__appendersCache[cacheId];\n      if (appenders !== undefined) {\n        return appenders;\n      }\n\n      var appenders = {};\n      for (var i = 0; i < this.__filters.length; i++) {\n        var filter = this.__filters[i];\n\n        // Filters only apply to certain levels\n        if (levels[level] < levels[filter.level]) {\n          continue;\n        }\n\n        // No duplicates\n        if (filter.appenderName && appenders[filter.appenderName]) {\n          continue;\n        }\n\n        // Test\n        if (!filter.loggerMatch || filter.loggerMatch.test(className)) {\n          if (filter.appenderName) {\n            appenders[filter.appenderName] = this.__appendersByName[filter.appenderName];\n          }\n          else {\n            return this.__appendersCache[cacheId] = this.__appendersByName;\n          }\n        }\n      }\n\n      return this.__appendersCache[cacheId] = appenders;\n    },\n\n\n\n    /**\n     * Detects the type of the variable given.\n     *\n     * @param value {var} Incoming value\n     * @return {String} Type of the incoming value. Possible values:\n     *   \"undefined\", \"null\", \"boolean\", \"number\", \"string\",\n     *   \"function\", \"array\", \"error\", \"map\",\n     *   \"class\", \"instance\", \"node\", \"stringify\", \"unknown\"\n     */\n    __detect : function(value)\n    {\n      if (value === undefined) {\n        return \"undefined\";\n      } else if (value === null) {\n        return \"null\";\n      }\n\n      if (value.$$type) {\n        return \"class\";\n      }\n\n      var type = typeof value;\n\n      if (type === \"function\" || type == \"string\" || type === \"number\" || type === \"boolean\") {\n        return type;\n      }\n\n      else if (type === \"object\")\n      {\n        if (value.nodeType) {\n          return \"node\";\n          // In Gecko, DOMException doesn't inherit from Error\n        } else if (value instanceof Error || (value.name && value.message)) {\n          return \"error\";\n        } else if (value.classname) {\n          return \"instance\";\n        } else if (value instanceof Array) {\n          return \"array\";\n        } else if (value instanceof Date) {\n          return \"date\";\n        } else {\n          return \"map\";\n        }\n      }\n\n      if (value.toString) {\n        return \"stringify\";\n      }\n\n      return \"unknown\";\n    },\n\n\n    /**\n     * Serializes the incoming value. If it is a singular value, the result is\n     * a simple string. For an array or a map the result can also be a\n     * serialized string of a limited number of individual items.\n     *\n     * @param value {var} Incoming value\n     * @param deep {Boolean?false} Whether arrays and maps should be\n     *    serialized for a limited number of items\n     * @return {Map} Contains the keys <code>type</code>, <code>text</code> and\n     * <code>trace</code>.\n     */\n    __serialize : function(value, deep)\n    {\n      var type = this.__detect(value);\n      var text = \"unknown\";\n      var trace = [];\n\n      switch(type)\n      {\n        case \"null\":\n        case \"undefined\":\n          text = type;\n          break;\n\n        case \"string\":\n        case \"number\":\n        case \"boolean\":\n        case \"date\":\n          text = value;\n          break;\n\n        case \"node\":\n          if (value.nodeType === 9)\n          {\n            text = \"document\";\n          }\n          else if (value.nodeType === 3)\n          {\n            text = \"text[\" + value.nodeValue + \"]\";\n          }\n          else if (value.nodeType === 1)\n          {\n            text = value.nodeName.toLowerCase();\n            if (value.id) {\n              text += \"#\" + value.id;\n            }\n          }\n          else\n          {\n            text = \"node\";\n          }\n          break;\n\n        case \"function\":\n          text = qx.lang.Function.getName(value) || type;\n          break;\n\n        case \"instance\":\n          text = value.basename + \"[\" + value.$$hash + \"]\";\n          break;\n\n        case \"class\":\n        case \"stringify\":\n          text = value.toString();\n          break;\n\n        case \"error\":\n          trace = qx.dev.StackTrace.getStackTraceFromError(value);\n          text = (value.basename ? value.basename + \": \" : \"\") +\n                 value.toString();\n          break;\n\n        case \"array\":\n          if (deep)\n          {\n            text = [];\n            for (var i=0, l=value.length; i<l; i++)\n            {\n              if (text.length > 20)\n              {\n                text.push(\"...(+\" + (l-i) + \")\");\n                break;\n              }\n\n              text.push(this.__serialize(value[i], false));\n            }\n          }\n          else\n          {\n            text = \"[...(\" + value.length + \")]\";\n          }\n          break;\n\n        case \"map\":\n          if (deep)\n          {\n            var temp;\n\n            // Produce sorted key list\n            var sorted = [];\n            for (var key in value) {\n              sorted.push(key);\n            }\n            sorted.sort();\n\n            // Temporary text list\n            text = [];\n            for (var i=0, l=sorted.length; i<l; i++)\n            {\n              if (text.length > 20)\n              {\n                text.push(\"...(+\" + (l-i) + \")\");\n                break;\n              }\n\n              // Additional storage of hash-key\n              key = sorted[i];\n              temp = this.__serialize(value[key], false);\n              temp.key = key;\n              text.push(temp);\n            }\n          }\n          else\n          {\n            var number=0;\n            for (var key in value) {\n              number++;\n            }\n            text = \"{...(\" + number + \")}\";\n          }\n          break;\n      }\n\n      return {\n        type : type,\n        text : text,\n        trace : trace\n      };\n    }\n  },\n\n\n  defer : function(statics)\n  {\n    var logs = qx.Bootstrap.$$logs;\n    for (var i=0; i<logs.length; i++) {\n      statics.__log(logs[i][0], logs[i][1]);\n    }\n\n    qx.Bootstrap.debug = statics.debug;\n    qx.Bootstrap.info = statics.info;\n    qx.Bootstrap.warn = statics.warn;\n    qx.Bootstrap.error = statics.error;\n    qx.Bootstrap.trace = statics.trace;\n  }\n});\n"
  ]
}