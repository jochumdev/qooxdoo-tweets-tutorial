{
  "version": 3,
  "sources": [
    "Property.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "__gatherDependency",
    "core",
    "Environment",
    "get",
    "event",
    "type",
    "Data",
    "dispatch",
    "Direct",
    "Promise",
    "__checks",
    "__dereference",
    "$$inherit",
    "$$store",
    "runtime",
    "user",
    "theme",
    "inherit",
    "init",
    "useinit",
    "$$method",
    "getAsync",
    "set",
    "setImpl",
    "setAsync",
    "reset",
    "refresh",
    "setRuntime",
    "resetRuntime",
    "setThemed",
    "resetThemed",
    "$$allowedKeys",
    "name",
    "dereference",
    "inheritable",
    "nullable",
    "themeable",
    "refine",
    "apply",
    "check",
    "transform",
    "async",
    "deferredInit",
    "validate",
    "isEqual",
    "$$allowedGroupKeys",
    "group",
    "mode",
    "$$inheritable",
    "__executeOptimizedRefresh",
    "clazz",
    "inheritables",
    "__getInheritablesOfClass",
    "length",
    "refresher",
    "__createRefresher",
    "prototype",
    "$$refreshInheritables",
    "properties",
    "$$properties",
    "push",
    "superclass",
    "code",
    "i",
    "l",
    "Function",
    "join",
    "attachRefreshInheritables",
    "Property",
    "attachMethods",
    "config",
    "__attachGroupMethods",
    "__attachPropertyMethods",
    "upname",
    "firstUp",
    "members",
    "debug",
    "setter",
    "resetter",
    "styler",
    "unstyler",
    "argHandler",
    "shorthand",
    "a",
    "Error",
    "undefined",
    "__shouldBeDereferenced",
    "warn",
    "classname",
    "error",
    "match",
    "allNames",
    "forEach",
    "conflictingClass",
    "tmp",
    "Object",
    "log",
    "Logger",
    "method",
    "store",
    "getName",
    "hasOwnProperty",
    "$$install",
    "__installOptimizedGetter",
    "arguments",
    "setName",
    "__installOptimizedSetter",
    "executeOptimizedSetter",
    "value",
    "$$propertyMethod",
    "__errors",
    "obj",
    "id",
    "property",
    "variant",
    "constructor",
    "msg",
    "__unwrapFunctionFromCode",
    "instance",
    "args",
    "fn",
    "__installFunctionFromCode",
    "call",
    "ex",
    "Aspect",
    "wrap",
    "setDisplayName",
    "executeOptimizedGetter",
    "__compileGetter",
    "__compileSetter",
    "lang",
    "String",
    "incomingValue",
    "hasCallback",
    "__getStore",
    "__emitIsEqualFunction",
    "__emitSetterPreConditions",
    "__emitOldValue",
    "__emitIncomingValueTransformation",
    "__emitOldNewComparison",
    "__emitIncomingValueValidation",
    "__emitStoreValue",
    "__emitStoreComputedValue",
    "__emitStoreInheritedPropertyValue",
    "__emitNormalizeUndefinedValues",
    "__emitCallCallback",
    "_getChildren",
    "unshift",
    "resetValue",
    "select",
    "Class",
    "isDefined",
    "Interface",
    "Array"
  ],
  "mappings": "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",
  "file": "Property.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * Internal class for handling of dynamic properties. Should only be used\n * through the methods provided by {@link qx.Class}.\n *\n * For a complete documentation of properties take a look at\n * http://manual.qooxdoo.org/${qxversion}/pages/core.html#properties.\n *\n *\n * *Normal properties*\n *\n * The <code>properties</code> key in the class definition map of {@link qx.Class#define}\n * is used to generate the properties.\n *\n * Valid keys of a property definition are:\n *\n * <table>\n *   <tr><th>Name</th><th>Type</th><th>Description</th></tr>\n *   <tr><th>check</th><td>Array, String, Function</td><td>\n *     The check is used to check the type the incoming value of a property. This will only\n *     be executed in the source version. The build version will not contain the checks.\n *     The check can be:\n *     <ul>\n *       <li>a custom check function. The function takes the incoming value as a parameter and must\n *           return a boolean value to indicate whether the values is valid.\n *       </li>\n *       <li>inline check code as a string e.g. <code>\"value &gt; 0 && value &lt; 100\"</code></li>\n *       <li>a class name e.g. <code>qx.ui.form.Button</code></li>\n *       <li>a name of an interface the value must implement</li>\n *       <li>an array of all valid values</li>\n *       <li>one of the predefined checks: Boolean, String, Number, Integer, Float, Double,\n *           Object, Array, Map, Class, Mixin, Interface, Theme, Error, RegExp, Function,\n *           Date, Node, Element, Document, Window, Event\n *       </li>\n *     <ul>\n *   </td></tr>\n *   <tr><th>init</th><td>var</td><td>\n *     Sets the default/initial value of the property. If no property value is set or the property\n *     gets reset, the getter will return the <code>init</code> value.\n *   </td></tr>\n *   <tr><th>apply</th><td>String</td><td>\n *     On change of the property value the method of the specified name will be called. The signature of\n *     the method is <code>function(newValue, oldValue, propertyName)</code>. It is conventional to name\n *     the callback <code>_apply</code> + <i>PropertyName</i>, with the property name camel-cased (e.g.\n *     \"<i>_applyFooBar</i>\" for a property <i>fooBar</i>).\n *   </td></tr>\n *   <tr><th>event</th><td>String</td><td>\n *     On change of the property value an event with the given name will be dispatched. The event type is\n *     {@link qx.event.type.Data}.\n *   </td></tr>\n *   <tr><th>themeable</th><td>Boolean</td><td>\n *     Whether this property can be set using themes.\n *   </td></tr>\n *   <tr><th>inheritable</th><td>Boolean</td><td>\n *     Whether the property value should be inheritable. If the property does not have an user defined or an\n *     init value, the property will try to get the value from the parent of the current object.\n *   </td></tr>\n *   <tr><th>nullable</th><td>Boolean</td><td>\n *     Whether <code>null</code> is an allowed value of the property. This is complementary to the check\n *     defined using the <code>check</code> key.\n *   </td></tr>\n *   <tr><th>refine</th><td>Boolean</td><td>\n *     Whether the property definition is a refinement of a property in one of the super classes of the class.\n *     Only the <code>init</code> value can be changed using refine.\n *   </td></tr>\n *   <tr><th>transform</th><td>String</td><td>\n *     On setting of the property value the method of the specified name will\n *     be called. The signature of the method is <code>function(value, oldValue)</code>.\n *     The parameter <code>value</code> is the value passed to the setter, the\n *     parameter <code>oldValue</code> is the current value, or undefined if no value\n *     has been set previously.\n *     The function must return the modified or unmodified value.\n *     Transformation occurs before the check function, so both may be\n *     specified if desired.  Alternatively, the transform function may throw\n *     an error if the value passed to it is invalid.\n *   </td></tr>\n *   <tr><th>validate</th><td>Function, String</td><td>\n *     On setting of the property value the method of the specified name will\n *     be called. The signature of the method is <code>function(value)</code>.\n *     The parameter <code>value</code> is the value passed to the setter.\n *     If the validation fails, an <code>qx.core.ValidationError</code> should\n *     be thrown by the validation function. Otherwise, just do nothing in the\n *     function.<br>\n *     If a string is given, the string should hold a reference to a member\n *     method.<br>\n *     <code>\"<i>methodname</i>\"</code> for example\n *     <code>\"__validateProperty\"</code><br>\n *     There are some default validators in the {@link qx.util.Validate} class.\n *     See this documentation for usage examples.\n *   </td></tr>\n *   <tr><th>dereference</th><td>Boolean</td><td>\n *     By default, the references to the values (current, init, ...) of the\n *     property will be stored as references on the object. When disposing\n *     this object, the references will not be deleted. Setting the\n *     dereference key to true tells the property system to delete all\n *     connections made by this property on dispose. This can be necessary for\n *     disconnecting DOM objects to allow the garbage collector to work\n *     properly.\n *   </td></tr>\n *   <tr><th>deferredInit</th><td>Boolean</td><td>\n *     Allow for a deferred initialization for reference types. Defaults to false.\n *   </td></tr>\n *   <tr><th>isEqual</th><td>Function, String</td><td>\n *     On setting of the property value the method of the specified name will\n *     be called to test if two values are equal. These checks for equality are\n *     performed by the Property-System to decide whether further actions (like\n *     e.g. calling applier methods or firing of events) are needed.\n *     The signature of the method is <code>function(valueA, valueB)</code>.\n *     <br/>\n *     The <i>isEqual</i>-value can be:\n *     <ul>\n *       <li>a custom check function.\n *           The function takes two values as parameter and must return a\n *           boolean value to indicate whether the values are considered\n *           equal e.g. <code>function (a, b) { return Object.is(a, b); }</code>.</li>\n *       <li>inline check code as a string\n *           which will be invoked with two parameters <code>a</code> and\n *           <code>b</code> and results in a boolean value to indicate whether\n *           the values are equal e.g. <code>\"a.length() == b.length()\"</code>.</li>\n *       <li>reference to a member method as string\n *           <code>\"<i>methodname</i>\"</code> which will be invoked with two\n *           parameters and returns a boolean value indicating whether the two\n *           values are considered equal for example <code>\"__areTheSame\"</code>.</li>\n *     </ul>\n *     The default implementation (if this key is undefined) will check the\n *     equality by using the <i>identity</i> operator (===) as if defined like\n *     <code>\"a===b\"</code>.\n *   </td></tr>\n * </table>\n *\n * *Property groups*\n *\n * Property groups are defined in a similar way but support a different set of keys:\n *\n * <table>\n *   <tr><th>Name</th><th>Type</th><th>Description</th></tr>\n *   <tr><th>group</th><td>String[]</td><td>\n *     A list of property names which should be set using the property group.\n *   </td></tr>\n *   <tr><th>mode</th><td>String</td><td>\n *     If mode is set to <code>\"shorthand\"</code>, the properties can be set using a CSS like shorthand mode.\n *   </td></tr>\n *   <tr><th>themeable</th><td>Boolean</td><td>\n *     Whether this property can be set using themes.\n *   </td></tr>\n * </table>\n *\n * @internal\n * @ignore(qx.Interface)\n */\nqx.Bootstrap.define(\"qx.core.Property\",\n{\n  statics :\n  {\n    /**\n     * This is a method which does nothing than gathering dependencies for the\n     * module system. Calling this method is useless because it does nothing.\n     */\n    __gatherDependency : function() {\n      if (qx.core.Environment.get(\"module.events\")) {\n        qx.event.type.Data;\n        qx.event.dispatch.Direct;\n      }\n      if (qx.core.Environment.get(\"qx.promise\")) {\n        qx.Promise;\n      }\n    },\n\n\n    /**\n     * Built-in checks\n     * The keys could be used in the check of the properties\n     */\n    __checks :\n    {\n      \"Boolean\"   : 'qx.core.Assert.assertBoolean(value, msg) || true',\n      \"String\"    : 'qx.core.Assert.assertString(value, msg) || true',\n\n      \"Number\"    : 'qx.core.Assert.assertNumber(value, msg) || true',\n      \"Integer\"   : 'qx.core.Assert.assertInteger(value, msg) || true',\n      \"PositiveNumber\" : 'qx.core.Assert.assertPositiveNumber(value, msg) || true',\n      \"PositiveInteger\" : 'qx.core.Assert.assertPositiveInteger(value, msg) || true',\n\n      \"Error\"     : 'qx.core.Assert.assertInstance(value, Error, msg) || true',\n      \"RegExp\"    : 'qx.core.Assert.assertInstance(value, RegExp, msg) || true',\n\n      \"Object\"    : 'qx.core.Assert.assertObject(value, msg) || true',\n      \"Array\"     : 'qx.core.Assert.assertArray(value, msg) || true',\n      \"Map\"       : 'qx.core.Assert.assertMap(value, msg) || true',\n\n      \"Function\"  : 'qx.core.Assert.assertFunction(value, msg) || true',\n      \"Date\"      : 'qx.core.Assert.assertInstance(value, Date, msg) || true',\n      \"Node\"      : 'value !== null && value.nodeType !== undefined',\n      \"Element\"   : 'value !== null && value.nodeType === 1 && value.attributes',\n      \"Document\"  : 'value !== null && value.nodeType === 9 && value.documentElement',\n      \"Window\"    : 'value !== null && value.document',\n      \"Event\"     : 'value !== null && value.type !== undefined',\n\n      \"Class\"     : 'value !== null && value.$$type === \"Class\"',\n      \"Mixin\"     : 'value !== null && value.$$type === \"Mixin\"',\n      \"Interface\" : 'value !== null && value.$$type === \"Interface\"',\n      \"Theme\"     : 'value !== null && value.$$type === \"Theme\"',\n\n      \"Color\"     : 'qx.lang.Type.isString(value) && qx.util.ColorUtil.isValidPropertyValue(value)',\n      \"Decorator\" : 'value !== null && qx.theme.manager.Decoration.getInstance().isValidPropertyValue(value)',\n      \"Font\"      : 'value !== null && qx.theme.manager.Font.getInstance().isDynamic(value)'\n    },\n\n\n    /**\n     * Contains types from {@link #__checks} list which need to be dereferenced\n     */\n    __dereference :\n    {\n      \"Node\"      : true,\n      \"Element\"   : true,\n      \"Document\"  : true,\n      \"Window\"    : true,\n      \"Event\"     : true\n    },\n\n\n    /**\n     * Inherit value, used to override defaults etc. to force inheritance\n     * even if property value is not undefined (through multi-values)\n     *\n     * @internal\n     */\n    $$inherit : \"inherit\",\n\n\n    /**\n     * Caching field names for each property created\n     *\n     * @internal\n     */\n    $$store :\n    {\n      runtime : {},\n      user    : {},\n      theme   : {},\n      inherit : {},\n      init    : {},\n      useinit : {}\n    },\n\n\n    /**\n     * Caching function names for each property created\n     *\n     * @internal\n     */\n    $$method :\n    {\n      get          : {},\n      getAsync     : {},\n      set          : {},\n      setImpl      : {},\n      setAsync     : {},\n      reset        : {},\n      init         : {},\n      refresh      : {},\n      setRuntime   : {},\n      resetRuntime : {},\n      setThemed    : {},\n      resetThemed  : {}\n    },\n\n\n    /**\n     * Supported keys for property definitions\n     *\n     * @internal\n     */\n    $$allowedKeys :\n    {\n      \"@\"          : \"object\",   // Anything\n      name         : \"string\",   // String\n      dereference  : \"boolean\",  // Boolean\n      inheritable  : \"boolean\",  // Boolean\n      nullable     : \"boolean\",  // Boolean\n      themeable    : \"boolean\",  // Boolean\n      refine       : \"boolean\",  // Boolean\n      init         : null,       // var\n      apply        : \"string\",   // String\n      event        : \"string\",   // String\n      check        : null,       // Array, String, Function\n      transform    : \"string\",   // String\n      async        : \"boolean\",  // Boolean\n      deferredInit : \"boolean\",  // Boolean\n      validate     : null,       // String, Function\n      isEqual      : null        // String, Function\n    },\n\n\n    /**\n     * Supported keys for property group definitions\n     *\n     * @internal\n     */\n    $$allowedGroupKeys :\n    {\n      \"@\"       : \"object\",   // Anything\n      name      : \"string\",   // String\n      group     : \"object\",   // Array\n      mode      : \"string\",   // String\n      themeable : \"boolean\"   // Boolean\n    },\n\n\n    /** Contains names of inheritable properties, filled by {@link qx.Class.define} */\n    $$inheritable : {},\n\n\n    /**\n     * Generate optimized refresh method and  attach it to the class' prototype\n     *\n     * @param clazz {Class} clazz to which the refresher should be added\n     */\n    __executeOptimizedRefresh : function(clazz)\n    {\n      var inheritables = this.__getInheritablesOfClass(clazz);\n\n      if (!inheritables.length) {\n        var refresher = function () {};\n      } else {\n        refresher = this.__createRefresher(inheritables);\n      }\n\n      clazz.prototype.$$refreshInheritables = refresher;\n    },\n\n\n    /**\n     * Get the names of all inheritable properties of the given class\n     *\n     * @param clazz {Class} class to get the inheritable properties of\n     * @return {String[]} List of property names\n     */\n    __getInheritablesOfClass : function(clazz)\n    {\n      var inheritable = [];\n\n      while(clazz)\n      {\n        var properties = clazz.$$properties;\n\n        if (properties)\n        {\n          for (var name in this.$$inheritable)\n          {\n            // Whether the property is available in this class\n            // and whether it is inheritable in this class as well\n            if (properties[name] && properties[name].inheritable)\n            {\n              inheritable.push(name);\n            }\n          }\n        }\n\n        clazz = clazz.superclass;\n      }\n\n      return inheritable;\n    },\n\n\n    /**\n     * Assemble the refresher code and return the generated function\n     *\n     * @param inheritables {String[]} list of inheritable properties\n     * @return {Function} refresher function\n     */\n    __createRefresher : function(inheritables)\n    {\n      var inherit = this.$$store.inherit;\n      var init = this.$$store.init;\n      var refresh = this.$$method.refresh;\n\n      var code = [\n        \"var parent = this.getLayoutParent();\",\n        \"if (!parent) return;\"\n      ];\n\n      for (var i=0, l=inheritables.length; i<l; i++)\n      {\n        var name = inheritables[i];\n        code.push(\n          \"var value = parent.\", inherit[name],\";\",\n          \"if (value===undefined) value = parent.\", init[name], \";\",\n          \"this.\", refresh[name], \"(value);\"\n        );\n      }\n\n      return new Function(code.join(\"\"));\n    },\n\n\n    /**\n     * Attach $$refreshInheritables method stub to the given class\n     *\n     * @param clazz {Class} clazz to which the refresher should be added\n     */\n    attachRefreshInheritables : function(clazz)\n    {\n      clazz.prototype.$$refreshInheritables = function()\n      {\n        qx.core.Property.__executeOptimizedRefresh(clazz);\n        return this.$$refreshInheritables();\n      };\n    },\n\n\n    /**\n     * Attach one property to class\n     *\n     * @param clazz {Class} Class to attach properties to\n     * @param name {String} Name of property\n     * @param config {Map} Configuration map of property\n     */\n    attachMethods : function(clazz, name, config)\n    {\n      // Divide groups from \"normal\" properties\n      config.group ?\n        this.__attachGroupMethods(clazz, config, name) :\n        this.__attachPropertyMethods(clazz, config, name);\n    },\n\n\n    /**\n     * Attach group methods\n     *\n     * @param clazz {Class} Class to attach properties to\n     * @param config {Map} Property configuration\n     * @param name {String} Name of the property\n     */\n    __attachGroupMethods : function(clazz, config, name)\n    {\n      var upname = qx.Bootstrap.firstUp(name);\n      var members = clazz.prototype;\n      var themeable = config.themeable === true;\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (qx.core.Environment.get(\"qx.debug.property.level\") > 1) {\n          qx.Bootstrap.debug(\"Generating property group: \" + name);\n        }\n      }\n\n      var setter = [];\n      var resetter = [];\n\n      if (themeable)\n      {\n        var styler = [];\n        var unstyler = [];\n      }\n\n      var argHandler = \"var a=arguments[0] instanceof Array?arguments[0]:arguments;\";\n\n      setter.push(argHandler);\n\n      if (themeable) {\n        styler.push(argHandler);\n      }\n\n      if (config.mode == \"shorthand\")\n      {\n        var shorthand = \"a=qx.lang.Array.fromShortHand(qx.lang.Array.fromArguments(a));\";\n        setter.push(shorthand);\n\n        if (themeable) {\n          styler.push(shorthand);\n        }\n      }\n\n      for (var i=0, a=config.group, l=a.length; i<l; i++)\n      {\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          if (!this.$$method.set[a[i]]||!this.$$method.reset[a[i]]) {\n            throw new Error(\"Cannot create property group '\" + name + \"' including non-existing property '\" + a[i] + \"'!\");\n          }\n        }\n\n        setter.push(\"this.\", this.$$method.set[a[i]], \"(a[\", i, \"]);\");\n        resetter.push(\"this.\", this.$$method.reset[a[i]], \"();\");\n\n        if (themeable)\n        {\n          if (qx.core.Environment.get(\"qx.debug\"))\n          {\n            if (!this.$$method.setThemed[a[i]]) {\n              throw new Error(\"Cannot add the non themable property '\" + a[i] + \"' to the themable property group '\"+ name +\"'\");\n            }\n          }\n\n          styler.push(\"this.\", this.$$method.setThemed[a[i]], \"(a[\", i, \"]);\");\n          unstyler.push(\"this.\", this.$$method.resetThemed[a[i]], \"();\");\n        }\n      }\n\n      // Attach setter\n      this.$$method.set[name] = \"set\" + upname;\n      members[this.$$method.set[name]] = new Function(setter.join(\"\"));\n\n      // Attach resetter\n      this.$$method.reset[name] = \"reset\" + upname;\n      members[this.$$method.reset[name]] = new Function(resetter.join(\"\"));\n\n      if (themeable)\n      {\n        // Attach styler\n        this.$$method.setThemed[name] = \"setThemed\" + upname;\n        members[this.$$method.setThemed[name]] = new Function(styler.join(\"\"));\n\n        // Attach unstyler\n        this.$$method.resetThemed[name] = \"resetThemed\" + upname;\n        members[this.$$method.resetThemed[name]] = new Function(unstyler.join(\"\"));\n      }\n    },\n\n\n    /**\n     * Attach property methods\n     *\n     * @param clazz {Class} Class to attach properties to\n     * @param config {Map} Property configuration\n     * @param name {String} Name of the property\n     */\n    __attachPropertyMethods : function(clazz, config, name)\n    {\n      var upname = qx.Bootstrap.firstUp(name);\n      var members = clazz.prototype;\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (qx.core.Environment.get(\"qx.debug.property.level\") > 1) {\n          qx.Bootstrap.debug(\"Generating property wrappers: \" + name);\n        }\n      }\n\n      // Fill dispose value\n      if (config.dereference === undefined && typeof config.check === \"string\") {\n        config.dereference = this.__shouldBeDereferenced(config.check);\n      }\n\n      if (!qx.core.Environment.get(\"qx.promise\")) {\n        if (config.async) {\n          this.warn(\"Asynchronous property \" + clazz.classname +\".\" + name + \" is switched to synchronous because qx.promise==false\");\n          config.async = false;\n        }\n        if (config.check == \"qx.Promise\") {\n          this.error(\"Cannot implement check for property \" + clazz.classname +\".\" + name + \" because qx.promise==false\");\n          delete config.check;\n        }\n      }\n      \n      // Check for method name conflicts\n      if (qx.core.Environment.get(\"qx.debug\")) {\n      \t// Exclude qx.data.model.* because that's from marshalling and will cause conflicts to be reported\n      \tif (clazz.classname && !clazz.classname.match(/^qx.data.model/)) {\n\t\t      var allNames = [ \"get\" + upname, \"set\" + upname, \"reset\" + upname, \"setRuntime\" + upname, \"resetRuntime\" + upname ];\n\t\t      if (config.async) {\n\t\t      \tallNames.push(\"get\" + upname + \"Async\");\n\t\t      \tallNames.push(\"set\" + upname + \"Async\");\n\t\t      }\n\t\t      if (config.inheritable || config.apply || config.event || config.deferredInit) {\n\t\t      \tallNames.push(\"init\" + upname);\n\t\t      }\n\t\t      if (config.inheritable) {\n\t\t      \tallNames.push(\"refresh\" + upname);\n\t\t      }\n\t\t      if (config.themeable) {\n\t\t      \tallNames.push(\"getThemed\" + upname);\n\t\t      \tallNames.push(\"setThemed\" + upname);\n\t\t      \tallNames.push(\"resetThemed\" + upname);\n\t\t      }\n\t\t      if (config.check === \"Boolean\") {\n\t\t      \tallNames.push(\"is\" + upname);\n\t\t      \tallNames.push(\"toggle\" + upname);\n\t\t      }\n          allNames.forEach(function(name) {\n            if (clazz.superclass.prototype[name] !== undefined) {\n              var conflictingClass = null;\n              for (var tmp = clazz.superclass; tmp && tmp != qx.core.Object; tmp = tmp.superclass) {\n                if (tmp.superclass.prototype[name] === undefined) {\n                  conflictingClass = tmp;\n                  break;\n                }\n              }\n              if (conflictingClass) {\n                qx.log.Logger.warn(\"Conflicting property method \" + clazz.classname + \".\" + name + \" with \" + conflictingClass.classname);\n              }\n            }\n          });\n      \t}\n      }\n\n      var method = this.$$method;\n      var store = this.$$store;\n\n      store.runtime[name] = \"$$runtime_\" + name;\n      store.user[name] = \"$$user_\" + name;\n      store.theme[name] = \"$$theme_\" + name;\n      store.init[name] = \"$$init_\" + name;\n      store.inherit[name] = \"$$inherit_\" + name;\n      store.useinit[name] = \"$$useinit_\" + name;\n\n      var getName = method.get[name] = \"get\" + upname;\n      members[method.get[name]] = new Function(\n          \"this.\" + getName + \".$$install && this.\" + getName + \".$$install();\" +\n          \"return this.\" + getName + \".apply(this, arguments);\"); \n      if (config.async) {\n        \n      \tif (qx.core.Environment.get(\"qx.debug\")) {\n      \t\tif (members.hasOwnProperty(getName + \"Async\")) {\n      \t\t\tthis.error(\"Asynchronous property \" + clazz.classname +\".\" + name + \" is replacing \" + getName + \"Async() method in same class\");\n      \t\t} else if (members[getName + \"Async\"] !== undefined) {\n      \t\t\tthis.warn(\"Asynchronous property \" + clazz.classname +\".\" + name + \" is overriding \" + getName + \"Async() method\");\n      \t\t}\n      \t}\n\t      method.getAsync[name] = getName + \"Async\";\n\t      members[method.getAsync[name]] = new Function(\n\t          \"this.\" + getName + \".$$install && this.\" + getName + \".$$install.call(this);\" +\n\t          \"return this.\" + getName + \"Async.apply(this, arguments);\");\n      }\n      members[method.get[name]].$$install = function() {\n        qx.core.Property.__installOptimizedGetter(clazz, name, \"get\", arguments);\n        if (config.async) {\n        \tqx.core.Property.__installOptimizedGetter(clazz, name, \"getAsync\", arguments);\n        }\n      };\n\n      var setName = method.set[name] = \"set\" + upname;\n      members[setName] = new Function(\n          \"this.\" + setName + \".$$install && this.\" + setName + \".$$install.call(this);\" +\n          \"return this.\" + setName + \".apply(this, arguments);\");\n      method.setAsync[name] = \"set\" + upname + \"Async\";\n      if (config.async) {\n      \tif (qx.core.Environment.get(\"qx.debug\")) {\n      \t\tif (members.hasOwnProperty(setName + \"Async\")) {\n      \t\t\tthis.error(\"Asynchronous property \" + clazz.classname +\".\" + name + \" is replacing \" + setName + \"Async() method in same class\");\n      \t\t} else if (members[setName + \"Async\"] !== undefined) {\n      \t\t\tthis.warn(\"Asynchronous property \" + clazz.classname +\".\" + name + \" is overriding \" + setName + \"Async() method\");\n      \t\t}\n      \t}\n        members[setName + \"Async\"] = new Function(\n            \"this.\" + setName + \".$$install && this.\" + setName + \".$$install.call(this);\" +\n            \"return this.\" + setName + \"Async.apply(this, arguments);\");\n      }\n      method.setImpl[name] = \"$$set\" + upname + \"Impl\";\n      members[setName].$$install = function() {\n        qx.core.Property.__installOptimizedSetter(clazz, name, \"set\");\n        qx.core.Property.__installOptimizedSetter(clazz, name, \"setImpl\");\n        if (config.async) {\n          qx.core.Property.__installOptimizedSetter(clazz, name, \"setAsync\");\n        }\n      };\n\n      method.reset[name] = \"reset\" + upname;\n      members[method.reset[name]] = function() {\n        return qx.core.Property.executeOptimizedSetter(this, clazz, name, \"reset\");\n      };\n      members[method.reset[name]].$$install = function() {\n        qx.core.Property.__installOptimizedSetter(clazz, name, \"reset\");\n      };\n\n      if (config.inheritable || config.apply || config.event || config.deferredInit)\n      {\n        method.init[name] = \"init\" + upname;\n        members[method.init[name]] = function(value) {\n          return qx.core.Property.executeOptimizedSetter(this, clazz, name, \"init\", arguments);\n        };\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          members[method.init[name]].$$propertyMethod = true;\n        }\n      }\n\n      if (config.inheritable)\n      {\n        method.refresh[name] = \"refresh\" + upname;\n        members[method.refresh[name]] = function(value) {\n          return qx.core.Property.executeOptimizedSetter(this, clazz, name, \"refresh\", arguments);\n        };\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          members[method.refresh[name]].$$propertyMethod = true;\n        }\n      }\n\n      method.setRuntime[name] = \"setRuntime\" + upname;\n      members[method.setRuntime[name]] = function(value) {\n        return qx.core.Property.executeOptimizedSetter(this, clazz, name, \"setRuntime\", arguments);\n      };\n\n      method.resetRuntime[name] = \"resetRuntime\" + upname;\n      members[method.resetRuntime[name]] = function() {\n        return qx.core.Property.executeOptimizedSetter(this, clazz, name, \"resetRuntime\");\n      };\n\n      if (config.themeable)\n      {\n        method.setThemed[name] = \"setThemed\" + upname;\n        members[method.setThemed[name]] = function(value) {\n          return qx.core.Property.executeOptimizedSetter(this, clazz, name, \"setThemed\", arguments);\n        };\n\n        method.resetThemed[name] = \"resetThemed\" + upname;\n        members[method.resetThemed[name]] = function() {\n          return qx.core.Property.executeOptimizedSetter(this, clazz, name, \"resetThemed\");\n        };\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          members[method.setThemed[name]].$$propertyMethod = true;\n          members[method.resetThemed[name]].$$propertyMethod = true;\n        }\n      }\n\n      if (config.check === \"Boolean\")\n      {\n        members[\"toggle\" + upname] = new Function(\"return this.\" + method.set[name] + \"(!this.\" + method.get[name] + \"())\");\n        members[\"is\" + upname] = new Function(\"return this.\" + method.get[name] + \"()\");\n\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          members[\"toggle\" + upname].$$propertyMethod = true;\n          members[\"is\" + upname].$$propertyMethod = true;\n        }\n      }\n\n      // attach a flag to make generated property methods\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        members[method.get[name]].$$propertyMethod = true;\n        members[method.set[name]].$$propertyMethod = true;\n        members[method.reset[name]].$$propertyMethod = true;\n        members[method.setRuntime[name]].$$propertyMethod = true;\n        members[method.resetRuntime[name]].$$propertyMethod = true;\n      }\n    },\n\n\n    /**\n     * Returns if the reference for the given property check should be removed\n     * on dispose.\n     *\n     * @param check {var} The check of the property definition.\n     * @return {Boolean} If the dereference key should be set.\n     */\n    __shouldBeDereferenced :  function(check) {\n      return !!this.__dereference[check];\n    },\n\n\n    /** @type {Map} Internal data field for error messages used by {@link #error} */\n    __errors :\n    {\n      0 : 'Could not change or apply init value after constructing phase!',\n      1 : 'Requires exactly one argument!',\n      2 : 'Undefined value is not allowed!',\n      3 : 'Does not allow any arguments!',\n      4 : 'Null value is not allowed!',\n      5 : 'Is invalid!'\n    },\n\n\n    /**\n     * Error method used by the property system to report errors.\n     *\n     * @param obj {qx.core.Object} Any qooxdoo object\n     * @param id {Integer} Numeric error identifier\n     * @param property {String} Name of the property\n     * @param variant {String} Name of the method variant e.g. \"set\", \"reset\", ...\n     * @param value {var} Incoming value\n     */\n    error : function(obj, id, property, variant, value)\n    {\n      var classname = obj.constructor.classname;\n      var msg = \"Error in property \" + property + \" of class \" + classname +\n        \" in method \" + this.$$method[variant][property] + \" with incoming value '\" + value + \"': \";\n\n      throw new Error(msg + (this.__errors[id] || \"Unknown reason: \" + id));\n    },\n\n\n    /**\n     * Compiles a string builder object to a function, executes the function and\n     * returns the return value.\n     *\n     * @param instance {Object} Instance which have called the original method\n     * @param members {Object} Prototype members map where the new function should be stored\n     * @param name {String} Name of the property\n     * @param variant {String} Function variant e.g. get, set, reset, ...\n     * @param code {Array} Array which contains the code\n     * @param args {arguments} Incoming arguments of wrapper method\n     * @return {var} Return value of the generated function\n     */\n    __unwrapFunctionFromCode : function(instance, members, name, variant, code, args)\n    {\n    \tvar fn = this.__installFunctionFromCode(instance.constructor, name, variant, code, args);\n\n      // Executing new function\n      if (args === undefined) {\n        return fn.call(instance);\n      } else if (qx.core.Environment.get(\"qx.debug\")) {\n        return fn.apply(instance, args);\n      } else {\n        return fn.call(instance, args[0]);\n      }\n    },\n\n    \n    /**\n     * Takes a string builder object, converts it into a function, and installs it as\n     * a property accessor\n     *\n     * @param clazz {Class} Class to install the method into\n     * @param name {String} Name of the property\n     * @param variant {String} Function variant e.g. get, set, reset, ...\n     * @param code {Array} Array which contains the code\n     * @param args {arguments} Incoming arguments of wrapper method\n     * @return {var} Return value of the generated function\n     */\n    __installFunctionFromCode : function(clazz, name, variant, code, args)\n    {\n      var store = this.$$method[variant][name];\n\n      // Output generate code\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (qx.core.Environment.get(\"qx.debug.property.level\") > 1) {\n          qx.Bootstrap.debug(\"Code[\" + this.$$method[variant][name] + \"]: \" + code.join(\"\"));\n        }\n\n        // Overriding temporary wrapper\n        try{\n          clazz.prototype[store] =  new Function(\"value\", code.join(\"\"));\n        } catch(ex) {\n          throw new Error(\"Malformed generated code to unwrap method: \" + this.$$method[variant][name] + \"\\n\" + code.join(\"\"));\n        }\n      }\n      else\n      {\n        clazz.prototype[store] =  new Function(\"value\", code.join(\"\"));\n      }\n\n      // Enable profiling code\n      if (qx.core.Environment.get(\"qx.aspects\")) {\n        clazz.prototype[store] = qx.core.Aspect.wrap(clazz.classname + \".\" + store, clazz.prototype[store], \"property\");\n      }\n\n      qx.Bootstrap.setDisplayName(clazz.prototype[store], clazz.classname + \".prototype\", store);\n      return clazz.prototype[store];\n    },\n\n\n    /**\n     * Generates the optimized getter, installs it into the class prototype, and executes it\n     * Supported variants: get\n     *\n     * @param instance {Object} the instance which calls the method\n     * @param clazz {Class} the class which originally defined the property\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @return {var} Execute return value of apply generated function, generally the incoming value\n     */\n    executeOptimizedGetter : function(instance, clazz, name, variant)\n    {\n      var code = this.__compileGetter(clazz, name, variant);\n      var members = clazz.prototype;\n      return this.__unwrapFunctionFromCode(instance, members, name, variant, code);\n    },\n    \n    \n    /**\n     * Installs a getter into the class prototype, without executing it\n     * Supported variants: get\n     *\n     * @param clazz {Class} the class which originally defined the property\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     */\n    __installOptimizedGetter : function(clazz, name, variant)\n    {\n      var code = this.__compileGetter(clazz, name, variant);\n      this.__installFunctionFromCode(clazz, name, variant, code);\n    },\n    \n    \n    /**\n     * Compiles a getter into a string builder array\n     * Supported variants: get\n     *\n     * @param clazz {Class} the class which originally defined the property\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @return {String[]} the string builder array\n     */\n    __compileGetter: function(clazz, name, variant)\n    {\n      var config = clazz.$$properties[name];\n      var code = [];\n      var store = this.$$store;\n      \n      if (variant == \"getAsync\") {\n      \tcode.push(\"return qx.Promise.resolve(this.\" + this.$$method.get[name] + \"());\");\n      \treturn code;\n      }\n\n      code.push('if(this.', store.runtime[name], '!==undefined)');\n      code.push('return this.', store.runtime[name], ';');\n\n      if (config.inheritable)\n      {\n        code.push('else if(this.', store.inherit[name], '!==undefined)');\n        code.push('return this.', store.inherit[name], ';');\n        code.push('else ');\n      }\n\n      code.push('if(this.', store.user[name], '!==undefined)');\n      code.push('return this.', store.user[name], ';');\n\n      if (config.themeable)\n      {\n        code.push('else if(this.', store.theme[name], '!==undefined)');\n        code.push('return this.', store.theme[name], ';');\n      }\n\n      if (config.deferredInit && config.init === undefined)\n      {\n        code.push('else if(this.', store.init[name], '!==undefined)');\n        code.push('return this.', store.init[name], ';');\n      }\n\n      code.push('else ');\n\n      if (config.init !== undefined)\n      {\n        if (config.inheritable)\n        {\n          code.push('var init=this.', store.init[name], ';');\n\n          if (config.nullable) {\n            code.push('if(init==qx.core.Property.$$inherit)init=null;');\n          }\n\n          code.push('return init;');\n        }\n        else\n        {\n          code.push('return this.', store.init[name], ';');\n        }\n      }\n      else if (config.inheritable || config.nullable) {\n        code.push('return null;');\n      } else {\n        code.push('throw new Error(\"Property ', name, ' of an instance of ', clazz.classname, ' is not (yet) ready!\");');\n      }\n\n      return code;\n    },\n\n\n    /**\n     * Generates the optimized setter\n     * Supported variants: set, reset, init, refresh, style, unstyle\n     *\n     * @param instance {Object} the instance which calls the method\n     * @param clazz {Class} the class which originally defined the property\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @param args {arguments} Incoming arguments of wrapper method\n     * @return {var} Execute return value of apply generated function, generally the incoming value\n     */\n    executeOptimizedSetter : function(instance, clazz, name, variant, args)\n    {\n    \tvar code = this.__compileSetter(clazz, name, variant);\n      var members = clazz.prototype;\n      return this.__unwrapFunctionFromCode(instance, members, name, variant, code, args);\n    },\n    \n    \n    /**\n     * Installs a setter into the class prototype, without executing it\n     * Supported variants: set\n     *\n     * @param clazz {Class} the class which originally defined the property\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @return {var} Return value of the generated function\n     */\n    __installOptimizedSetter : function(clazz, name, variant)\n    {\n    \tvar code = this.__compileSetter(clazz, name, variant);\n      return this.__installFunctionFromCode(clazz, name, variant, code);\n    },\n    \n    \n    /**\n     * Compiles a setter into a string builder array\n     * Supported variants: set, setThemed, setRuntime, init\n     *\n     * @param instance {Object} the instance which calls the method\n     * @param clazz {Class} the class which originally defined the property\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @return {String[]} the string builder array\n     */\n    __compileSetter: function(clazz, name, variant) {\n      var config = clazz.$$properties[name];\n      var members = clazz.prototype;\n      var code = [];\n      \n      var upname = qx.lang.String.firstUp(name);\n      if (variant == \"setAsync\") {\n        code.push('return qx.Promise.resolve(this.$$set' + upname + \"Impl.apply(this, arguments));\");\n        return code;\n        \n      } else if (variant == \"set\") {\n        code.push(\n            'this.$$set' + upname + \"Impl.apply(this, arguments);\",\n            'return value;');\n        return code;\n        \n      }\n      \n      var incomingValue = \n        variant === \"setImpl\" ||\n        variant === \"setThemed\" || \n        variant === \"setRuntime\" || \n        (variant === \"init\" && config.init === undefined);\n      var hasCallback = config.apply || config.event || config.inheritable;\n\n\n      var store = this.__getStore(variant, name);\n\n      this.__emitIsEqualFunction(code, clazz, config, name);\n\n      this.__emitSetterPreConditions(code, config, name, variant, incomingValue);\n      \n      if (incomingValue || hasCallback) {\n        this.__emitOldValue(code, config, name);\n      }\n\n      if (incomingValue) {\n        this.__emitIncomingValueTransformation(code, clazz, config, name);\n      }\n\n      if (hasCallback) {\n        this.__emitOldNewComparison(code, incomingValue, store, variant);\n      }\n\n      if (config.inheritable) {\n        code.push('var inherit=prop.$$inherit;');\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (incomingValue) {\n          this.__emitIncomingValueValidation(code, config, clazz, name, variant);\n        }\n      }\n\n      if (!hasCallback) {\n        this.__emitStoreValue(code, name, variant, incomingValue);\n      } else {\n        this.__emitStoreComputedValue(code, config, name, variant, incomingValue);\n      }\n\n      if (config.inheritable) {\n        this.__emitStoreInheritedPropertyValue(code, config, name, variant);\n      } else if (hasCallback) {\n        this.__emitNormalizeUndefinedValues(code, config, name, variant);\n      }\n\n      if (hasCallback)\n      {\n        // Emit callback and event firing; Refreshing children (5th parameter) requires the parent/children interface\n        this.__emitCallCallback(code, config, name, variant, !!(config.inheritable && members._getChildren));\n      }\n\n      // Return value\n      if (incomingValue) {\n        code.unshift('function set(value){');\n        code.push('}');\n        if (qx.core.Environment.get(\"qx.promise\") && (!config.check || config.check != \"qx.Promise\")) {\n          code.push(\n              'var promise;',\n              'if (value instanceof qx.Promise) ',\n                'promise = value.then(set.bind(this));',\n              'else ',\n                'promise = set.apply(this, arguments);');\n          if (variant == \"setImpl\") {\n            code.push(\"return promise;\");\n          } else {\n            code.push('return value;');\n          }\n        } else {\n          code.push(\n              'set.apply(this, arguments);',\n              'return value;');\n        }\n      }\n      \n      return code;\n    },\n\n\n    /**\n     * Get the object to store the value for the given variant\n     *\n     * @param variant {String} Method variant.\n     * @param name {String} name of the property\n     *\n     * @return {Object} the value store\n     */\n    __getStore : function(variant, name)\n    {\n      if (variant === \"setRuntime\" || variant === \"resetRuntime\") {\n        var store = this.$$store.runtime[name];\n      } else if (variant === \"setThemed\" || variant === \"resetThemed\") {\n        store = this.$$store.theme[name];\n      } else if (variant === \"init\") {\n        store = this.$$store.init[name];\n      } else {\n        store = this.$$store.user[name];\n      }\n\n      return store;\n    },\n\n\n    /**\n     * Emit code for the equality check evaluation\n     *\n     * @param code {String[]} String array to append the code to\n     * @param clazz {Class} the class which originally defined the property\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     */\n    __emitIsEqualFunction : function (code, clazz, config, name)\n    {\n      code.push('var equ=');\n\n      if (typeof config.isEqual === \"function\")\n      {\n        code.push('function(a,b){return !!', clazz.classname, '.$$properties.',\n                  name, '.isEqual.call(this,a,b);};');\n      }\n      else if (typeof config.isEqual === \"string\")\n      {\n        var members = clazz.prototype;\n        // Name of member?\n        if (members[config.isEqual]!==undefined)\n        {\n          code.push('this.', config.isEqual, ';');\n        }\n        else // 'inline' code\n        {\n          code.push('function(a,b){return !!(', config.isEqual, ');};');\n        }\n      }\n      else if (typeof config.isEqual === \"undefined\")\n      {\n        code.push('function(a,b){return a===b;};');\n      }\n      else\n      {\n        throw new Error( \"Invalid type for 'isEqual' attribute \" +\n          \"of property '\" + name + \"' in class '\" + clazz.classname + \"'\" );\n      }\n    },\n\n\n    /**\n     * Emit code to check the arguments preconditions\n     *\n     * @param code {String[]} String array to append the code to\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @param incomingValue {Boolean} Whether the setter has an incoming value\n     */\n    __emitSetterPreConditions : function(code, config, name, variant, incomingValue)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        code.push('var prop=qx.core.Property;');\n\n        if (variant === \"init\") {\n          code.push('if(this.$$initialized)prop.error(this,0,\"', name, '\",\"', variant, '\",value);');\n        }\n\n        if (variant === \"refresh\")\n        {\n          // do nothing\n          // refresh() is internal => no arguments test\n          // also note that refresh() supports \"undefined\" values\n        }\n        else if (incomingValue)\n        {\n          // Check argument length\n          code.push('if(arguments.length!==1)prop.error(this,1,\"', name, '\",\"', variant, '\",value);');\n\n          // Undefined check\n          code.push('if(value===undefined)prop.error(this,2,\"', name, '\",\"', variant, '\",value);');\n        }\n        else\n        {\n          // Check argument length\n          code.push('if(arguments.length!==0)prop.error(this,3,\"', name, '\",\"', variant, '\",value);');\n        }\n      }\n      else\n      {\n        if (!config.nullable || config.check || config.inheritable) {\n          code.push('var prop=qx.core.Property;');\n        }\n\n        // Undefined check\n        if (variant === \"setImpl\") {\n          code.push('if(value===undefined)prop.error(this,2,\"', name, '\",\"', variant, '\",value);');\n        }\n      }\n    },\n\n\n    /**\n     * Emit code to apply the \"validate\" and \"transform\" config keys.\n     *\n     * @param code {String[]} String array to append the code to\n     * @param clazz {Class} the class which originally defined the property\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     */\n    __emitIncomingValueTransformation : function(code, clazz, config, name)\n    {\n      // Call user-provided transform method, if one is provided.  Transform\n      // method should either throw an error or return the new value.\n      if (config.transform) {\n        code.push('value=this.', config.transform, '(value, old);');\n      }\n\n      // Call user-provided validate method, if one is provided.  Validate\n      // method should either throw an error or do nothing.\n      if (config.validate) {\n        // if it is a string\n        if (typeof config.validate === \"string\") {\n          code.push('this.', config.validate, '(value);');\n        // if its a function otherwise\n        } else if (config.validate instanceof Function) {\n          code.push(clazz.classname, '.$$properties.', name);\n          code.push('.validate.call(this, value);');\n        }\n      }\n    },\n\n\n    /**\n     * Emit code, which returns if the incoming value equals the current value.\n     *\n     * @param code {String[]} String array to append the code to\n     * @param incomingValue {Boolean} Whether the setter has an incoming value\n     * @param store {Object} The data store to use for the incoming value\n     * @param variant {String} Method variant.\n     */\n    __emitOldNewComparison : function(code, incomingValue, store, variant)\n    {\n      var resetValue = (\n        variant === \"reset\" ||\n        variant === \"resetThemed\" ||\n        variant === \"resetRuntime\"\n      );\n\n      if (incomingValue) {\n        code.push('if(equ.call(this,this.',store,',value))return value;');\n      } else if (resetValue) {\n        code.push('if(this.', store, '===undefined)return;');\n      }\n    },\n\n\n    /**\n     * Emit code, which performs validation of the incoming value according to\n     * the \"nullable\", \"check\" and \"inheritable\" config keys.\n     *\n     * @signature function(code, config, clazz, name, variant)\n     * @param code {String[]} String array to append the code to\n     * @param config {Object} The property configuration map\n     * @param clazz {Class} the class which originally defined the property\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     */\n    __emitIncomingValueValidation : qx.core.Environment.select(\"qx.debug\",\n    {\n      \"true\" : function(code, config, clazz, name, variant)\n      {\n        // Null check\n        if (!config.nullable) {\n          code.push('if(value===null)prop.error(this,4,\"', name, '\",\"', variant, '\",value);');\n        }\n\n        // Processing check definition\n        if (config.check !== undefined)\n        {\n          code.push('var msg = \"Invalid incoming value for property \\''+name+'\\' of class \\'' + clazz.classname + '\\'\";');\n\n          // Accept \"null\"\n          if (config.nullable) {\n            code.push('if(value!==null)');\n          }\n\n          // Inheritable properties always accept \"inherit\" as value\n          if (config.inheritable) {\n            code.push('if(value!==inherit)');\n          }\n\n          code.push('if(');\n\n          if (this.__checks[config.check] !== undefined)\n          {\n            code.push('!(', this.__checks[config.check], ')');\n          }\n          else if (qx.Class.isDefined(config.check))\n          {\n            code.push('qx.core.Assert.assertInstance(value, qx.Class.getByName(\"', config.check, '\"), msg)');\n          }\n          else if (qx.Interface && qx.Interface.isDefined(config.check))\n          {\n            code.push('qx.core.Assert.assertInterface(value, qx.Interface.getByName(\"', config.check, '\"), msg)');\n          }\n          else if (typeof config.check === \"function\")\n          {\n            code.push('!', clazz.classname, '.$$properties.', name);\n            code.push('.check.call(this, value)');\n          }\n          else if (typeof config.check === \"string\")\n          {\n            code.push('!(', config.check, ')');\n          }\n          else if (config.check instanceof Array)\n          {\n            code.push('qx.core.Assert.assertInArray(value, ', clazz.classname, '.$$properties.', name, '.check, msg)');\n          }\n          else\n          {\n            throw new Error(\"Could not add check to property \" + name + \" of class \" + clazz.classname);\n          }\n\n          code.push(')prop.error(this,5,\"', name, '\",\"', variant, '\",value);');\n        }\n      },\n\n      \"false\" : undefined\n    }),\n\n\n    /**\n     * Emit code to store the incoming value\n     *\n     * @param code {String[]} String array to append the code to\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @param incomingValue {Boolean} Whether the setter has an incoming value\n     */\n    __emitStoreValue : function(code, name, variant, incomingValue)\n    {\n      if (variant === \"setRuntime\")\n      {\n        code.push('this.', this.$$store.runtime[name], '=value;');\n      }\n      else if (variant === \"resetRuntime\")\n      {\n        code.push('if(this.', this.$$store.runtime[name], '!==undefined)');\n        code.push('delete this.', this.$$store.runtime[name], ';');\n      }\n      else if (variant === \"setImpl\")\n      {\n        code.push('this.', this.$$store.user[name], '=value;');\n      }\n      else if (variant === \"reset\")\n      {\n        code.push('if(this.', this.$$store.user[name], '!==undefined)');\n        code.push('delete this.', this.$$store.user[name], ';');\n      }\n      else if (variant === \"setThemed\")\n      {\n        code.push('this.', this.$$store.theme[name], '=value;');\n      }\n      else if (variant === \"resetThemed\")\n      {\n        code.push('if(this.', this.$$store.theme[name], '!==undefined)');\n        code.push('delete this.', this.$$store.theme[name], ';');\n      }\n      else if (variant === \"init\" && incomingValue)\n      {\n        code.push('this.', this.$$store.init[name], '=value;');\n      }\n    },\n\n\n    /**\n     * Emit code to store the incoming value and compute the \"old\" and \"computed\"\n     * values.\n     *\n     * @param code {String[]} String array to append the code to\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     * @param incomingValue {Boolean} Whether the setter has an incoming value\n     */\n    __emitStoreComputedValue : function(code, config, name, variant, incomingValue)\n    {\n      code.push('var computed;');\n\n\n      // OLD = RUNTIME VALUE\n      code.push('if(this.', this.$$store.runtime[name], '!==undefined){');\n\n      if (variant === \"setRuntime\")\n      {\n        // Replace it with new value\n        code.push('computed=this.', this.$$store.runtime[name], '=value;');\n      }\n      else if (variant === \"resetRuntime\")\n      {\n        // Delete field\n        code.push('delete this.', this.$$store.runtime[name], ';');\n\n        // Complex computation of new value\n        code.push('if(this.', this.$$store.user[name], '!==undefined)');\n        code.push('computed=this.', this.$$store.user[name], ';');\n        code.push('else if(this.', this.$$store.theme[name], '!==undefined)');\n        code.push('computed=this.', this.$$store.theme[name], ';');\n        code.push('else if(this.', this.$$store.init[name], '!==undefined){');\n        code.push('computed=this.', this.$$store.init[name], ';');\n        code.push('this.', this.$$store.useinit[name], '=true;');\n        code.push('}');\n      }\n      else\n      {\n        // Use runtime value as it has higher priority\n        code.push('computed=this.', this.$$store.runtime[name], ';');\n\n        // Store incoming value\n        if (variant === \"setImpl\")\n        {\n          code.push('this.', this.$$store.user[name], '=value;');\n        }\n        else if (variant === \"reset\")\n        {\n          code.push('delete this.', this.$$store.user[name], ';');\n        }\n        else if (variant === \"setThemed\")\n        {\n          code.push('this.', this.$$store.theme[name], '=value;');\n        }\n        else if (variant === \"resetThemed\")\n        {\n          code.push('delete this.', this.$$store.theme[name], ';');\n        }\n        else if (variant === \"init\" && incomingValue)\n        {\n          code.push('this.', this.$$store.init[name], '=value;');\n        }\n      }\n\n      code.push('}');\n\n\n      // OLD = USER VALUE\n      code.push('else if(this.', this.$$store.user[name], '!==undefined){');\n\n      if (variant === \"setImpl\")\n      {\n        // Replace it with new value\n        code.push('computed=this.', this.$$store.user[name], '=value;');\n      }\n      else if (variant === \"reset\")\n      {\n        // Delete field\n        code.push('delete this.', this.$$store.user[name], ';');\n\n        // Complex computation of new value\n        code.push('if(this.', this.$$store.runtime[name], '!==undefined)');\n        code.push('computed=this.', this.$$store.runtime[name], ';');\n        code.push('if(this.', this.$$store.theme[name], '!==undefined)');\n        code.push('computed=this.', this.$$store.theme[name], ';');\n        code.push('else if(this.', this.$$store.init[name], '!==undefined){');\n        code.push('computed=this.', this.$$store.init[name], ';');\n        code.push('this.', this.$$store.useinit[name], '=true;');\n        code.push('}');\n      }\n      else\n      {\n        if (variant === \"setRuntime\")\n        {\n          // Use runtime value where it has higher priority\n          code.push('computed=this.', this.$$store.runtime[name], '=value;');\n        }\n        else if (config.inheritable)\n        {\n          // Use user value where it has higher priority\n          code.push('computed=this.', this.$$store.user[name], ';');\n        }\n        else\n        {\n          // Use user value where it has higher priority\n          code.push('computed=this.', this.$$store.user[name], ';');\n        }\n\n        // Store incoming value\n        if (variant === \"setThemed\")\n        {\n          code.push('this.', this.$$store.theme[name], '=value;');\n        }\n        else if (variant === \"resetThemed\")\n        {\n          code.push('delete this.', this.$$store.theme[name], ';');\n        }\n        else if (variant === \"init\" && incomingValue)\n        {\n          code.push('this.', this.$$store.init[name], '=value;');\n        }\n      }\n\n      code.push('}');\n\n\n      // OLD = THEMED VALUE\n      if (config.themeable)\n      {\n        code.push('else if(this.', this.$$store.theme[name], '!==undefined){');\n\n        if (variant === \"setRuntime\")\n        {\n          code.push('computed=this.', this.$$store.runtime[name], '=value;');\n        }\n\n        else if (variant === \"setImpl\")\n        {\n          code.push('computed=this.', this.$$store.user[name], '=value;');\n        }\n\n        // reset() is impossible, because the user has higher priority than\n        // the themed value, so the themed value has no chance to ever get used,\n        // when there is an user value, too.\n\n        else if (variant === \"setThemed\")\n        {\n          code.push('computed=this.', this.$$store.theme[name], '=value;');\n        }\n        else if (variant === \"resetThemed\")\n        {\n          // Delete entry\n          code.push('delete this.', this.$$store.theme[name], ';');\n\n          // Fallback to init value\n          code.push('if(this.', this.$$store.init[name], '!==undefined){');\n            code.push('computed=this.', this.$$store.init[name], ';');\n            code.push('this.', this.$$store.useinit[name], '=true;');\n          code.push('}');\n        }\n        else if (variant === \"init\")\n        {\n          if (incomingValue) {\n            code.push('this.', this.$$store.init[name], '=value;');\n          }\n\n          code.push('computed=this.', this.$$store.theme[name], ';');\n        }\n        else if (variant === \"refresh\")\n        {\n          code.push('computed=this.', this.$$store.theme[name], ';');\n        }\n\n        code.push('}');\n      }\n\n\n      // OLD = INIT VALUE\n      code.push('else if(this.', this.$$store.useinit[name], '){');\n\n      if (variant === \"init\")\n      {\n        if (incomingValue) {\n          code.push('computed=this.', this.$$store.init[name], '=value;');\n        } else {\n          code.push('computed=this.', this.$$store.init[name], ';');\n        }\n\n        // useinit flag is already initialized\n      }\n\n      // reset(), resetRuntime() and resetStyle() are impossible, because the user and themed values have a\n      // higher priority than the init value, so the init value has no chance to ever get used,\n      // when there is an user or themed value, too.\n\n      else if (variant === \"setImpl\" || variant === \"setRuntime\" || variant === \"setThemed\" || variant === \"refresh\")\n      {\n        code.push('delete this.', this.$$store.useinit[name], ';');\n\n        if (variant === \"setRuntime\") {\n          code.push('computed=this.', this.$$store.runtime[name], '=value;');\n        } else if (variant === \"setImpl\") {\n          code.push('computed=this.', this.$$store.user[name], '=value;');\n        } else if (variant === \"setThemed\") {\n          code.push('computed=this.', this.$$store.theme[name], '=value;');\n        } else if (variant === \"refresh\") {\n          code.push('computed=this.', this.$$store.init[name], ';');\n        }\n      }\n\n      code.push('}');\n\n\n      // OLD = NONE\n\n      // reset(), resetRuntime() and resetStyle() are impossible because otherwise there\n      // is already an old value\n      if (variant === \"setImpl\" || variant === \"setRuntime\" || variant === \"setThemed\" || variant === \"init\")\n      {\n        code.push('else{');\n\n        if (variant === \"setRuntime\")\n        {\n          code.push('computed=this.', this.$$store.runtime[name], '=value;');\n        }\n\n        else if (variant === \"setImpl\")\n        {\n          code.push('computed=this.', this.$$store.user[name], '=value;');\n        }\n\n        else if (variant === \"setThemed\")\n        {\n          code.push('computed=this.', this.$$store.theme[name], '=value;');\n        }\n\n        else if (variant === \"init\")\n        {\n          if (incomingValue) {\n            code.push('computed=this.', this.$$store.init[name], '=value;');\n          } else {\n            code.push('computed=this.', this.$$store.init[name], ';');\n          }\n\n          code.push('this.', this.$$store.useinit[name], '=true;');\n        }\n\n        // refresh() will work with the undefined value, later\n        code.push('}');\n      }\n    },\n\n\n    /**\n     * Emit code to compute the \"old\" value.\n     *\n     * @param code {String[]} String array to append the code to\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     */\n    __emitOldValue : function(code, config, name)\n    {\n      if (config.inheritable) {\n        code.push('var old=this.', this.$$store.inherit[name], ';');\n      } else {\n        code.push('var old;');\n      }\n\n      // OLD = RUNTIME VALUE\n      code.push('if(this.', this.$$store.runtime[name], '!==undefined){');\n      code.push('old=this.', this.$$store.runtime[name], ';');\n      code.push('}');\n\n      // OLD = USER VALUE\n      if (!config.inheritable) {\n        code.push('else if(this.', this.$$store.user[name], '!==undefined){');\n        code.push('old=this.', this.$$store.user[name], ';');\n        code.push('}');\n        \n        // OLD = THEMED VALUE\n        if (config.themeable) {\n          code.push('else if(this.', this.$$store.theme[name], '!==undefined){');\n          code.push('old=this.', this.$$store.theme[name], ';');\n          code.push('}');\n        }\n        \n        // OLD = INIT VALUE\n        code.push('else if(this.', this.$$store.useinit[name], '){');\n        code.push('old=this.', this.$$store.init[name], ';');\n        code.push('}');\n      }\n    },\n\n\n    /**\n     * Emit code to store the value of an inheritable property\n     *\n     * @param code {String[]} String array to append the code to\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     */\n    __emitStoreInheritedPropertyValue : function(code, config, name, variant)\n    {\n      code.push('if(computed===undefined||computed===inherit){');\n\n      if (variant === \"refresh\") {\n        code.push('computed=value;');\n      } else {\n        code.push('var pa=this.getLayoutParent();if(pa)computed=pa.', this.$$store.inherit[name], ';');\n      }\n\n      // Fallback to init value if inheritance was unsuccessful\n      code.push('if((computed===undefined||computed===inherit)&&');\n      code.push('this.', this.$$store.init[name], '!==undefined&&');\n      code.push('this.', this.$$store.init[name], '!==inherit){');\n        code.push('computed=this.', this.$$store.init[name], ';');\n        code.push('this.', this.$$store.useinit[name], '=true;');\n      code.push('}else{');\n      code.push('delete this.', this.$$store.useinit[name], ';}');\n\n      code.push('}');\n\n      // Compare old/new computed value\n      code.push('if(equ.call(this,old,computed))return value;');\n\n      // Note: At this point computed can be \"inherit\" or \"undefined\".\n\n      // Normalize \"inherit\" to undefined and delete inherited value\n      code.push('if(computed===inherit){');\n      code.push('computed=undefined;delete this.', this.$$store.inherit[name], ';');\n      code.push('}');\n\n      // Only delete inherited value\n      code.push('else if(computed===undefined)');\n      code.push('delete this.', this.$$store.inherit[name], ';');\n\n      // Store inherited value\n      code.push('else this.', this.$$store.inherit[name], '=computed;');\n\n      // Protect against normalization\n      code.push('var backup=computed;');\n\n      // After storage finally normalize computed and old value\n      if (config.init !== undefined && variant !== \"init\") {\n        code.push('if(old===undefined)old=this.', this.$$store.init[name], \";\");\n      } else {\n        code.push('if(old===undefined)old=null;');\n      }\n      code.push('if(computed===undefined||computed==inherit)computed=null;');\n    },\n\n\n    /**\n     * Emit code to normalize the old and incoming values from undefined to\n     * <code>null</code>.\n     *\n     * @param code {String[]} String array to append the code to\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     * @param variant {String} Method variant.\n     */\n    __emitNormalizeUndefinedValues : function(code, config, name, variant)\n    {\n      // Properties which are not inheritable have no possibility to get\n      // undefined at this position. (Hint: set(), setRuntime() and setThemed() only allow non undefined values)\n      if (variant !== \"setImpl\" && variant !== \"setRuntime\" && variant !== \"setThemed\") {\n        code.push('if(computed===undefined)computed=null;');\n      }\n\n      // Compare old/new computed value\n      code.push('if(equ.call(this,old,computed))return value;');\n\n      // Normalize old value\n      if (config.init !== undefined && variant !== \"init\") {\n        code.push('if(old===undefined)old=this.', this.$$store.init[name], \";\");\n      } else {\n        code.push('if(old===undefined)old=null;');\n      }\n    },\n\n\n    /**\n     * Emit code to call the apply method and fire the change event\n     *\n     * @param code {String[]} String array to append the code to\n     * @param config {Object} The property configuration map\n     * @param name {String} name of the property\n     * @param variant {String} variant of the method e.g. setThemed\n     * @param refresh {Boolean} if true, emit code to update the inherited values of child objects\n     */\n    __emitCallCallback : function(code, config, name, variant, refresh)\n    {\n      // Execute user configured setter\n      code.push('var promise;');\n      if (config.apply) {\n        code.push('promise = this.', config.apply, '(computed, old, \"', name, '\", \"', variant, '\");');\n      }\n      \n      if (config.async) {\n        code.push(\n        \t\t\"function fire() {\",\n              \"var promiseData = qx.Promise.resolve(computed);\",\n              \"var promise = promiseData;\"\n        \t\t);\n        \n        // Fire event\n        if (config.event) {\n          code.push(\n              \"var reg=qx.event.Registration;\",\n              \"if(reg.hasListener(this, '\", config.event, \"')) {\",\n                \"promise = reg.fireEventAsync(this, '\", config.event, \"', qx.event.type.Data, [computed, old]\", \");\",\n                \"promise = promise.then(function() { return computed; });\",\n              \"}\",\n              \"if(reg.hasListener(this, '\", config.event, \"Async'))\",\n                \"promise = promise.then(function() {\",\n                    \"return reg.fireEventAsync(this, '\", config.event, \"Async', qx.event.type.Data, [promiseData, old]\", \");\",\n                  \"}, this);\"\n              );\n        }\n        \n        // Emit code to update the inherited values of child objects\n        if (refresh) {\n          code.push(\n            'var a=this._getChildren();',\n            'if(a)',\n              'for(var i=0,l=a.length;i<l;i++){',\n                'if(a[i].', this.$$method.refresh[name], ')',\n                  'a[i].', this.$$method.refresh[name], '(backup);',\n              '}');\n        }\n        \n        code.push(\n            \"return promise;\",\n          \"}\");\n      } else {\n        code.push(\n          \"function fire() {\");\n            \n        // Fire event\n        if (config.event) {\n          code.push(\n              \"var reg=qx.event.Registration;\",\n              \n              \"if(reg.hasListener(this, '\", config.event, \"'))\",\n                \"reg.fireEvent(this, '\", config.event, \"', qx.event.type.Data, [computed, old]\", \");\");\n          if (qx.core.Environment.get(\"qx.promise\")) {\n            code.push(\n                \"if(reg.hasListener(this, '\", config.event, \"Async'))\",\n                  \"reg.fireEventAsync(this, '\", config.event, \"Async', qx.event.type.Data, [qx.Promise.resolve(computed), old]\", \");\"\n                );\n          }\n        }\n        // Emit code to update the inherited values of child objects\n        if (refresh) {\n          code.push(\n            'var a=this._getChildren();',\n            'if(a)',\n              'for(var i=0,l=a.length;i<l;i++){',\n                'if(a[i].', this.$$method.refresh[name], ')',\n                  'a[i].', this.$$method.refresh[name], '(backup);',\n              '}');\n        }\n        \n        code.push(\n            \"return computed;\",\n          \"}\");\n      }\n      \n      if (qx.core.Environment.get(\"qx.promise\")) {\n        code.push(\n            \"if(promise instanceof qx.Promise) \" +\n              \"return promise.then(fire, this); \"\n          );\n      }\n      code.push(\n        \"return fire.call(this);\"\n      );\n    }\n  }\n});\n"
  ]
}