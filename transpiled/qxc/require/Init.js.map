{
  "version": 3,
  "sources": [
    "Init.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "extend",
    "core",
    "Object",
    "construct",
    "_paths",
    "_map",
    "_cssPaths",
    "statics",
    "require",
    "modules",
    "Promise",
    "resolve",
    "fireLoadError",
    "err",
    "properties",
    "defaultErrback",
    "nullable",
    "members",
    "_initialized",
    "addMap",
    "id",
    "value",
    "addPath",
    "moduleId",
    "path",
    "lang",
    "String",
    "endsWith",
    "substr",
    "length",
    "addResourceManagerPath",
    "rmPath",
    "util",
    "ResourceManager",
    "getInstance",
    "toUri",
    "addCss",
    "push",
    "addResourceManagerCss",
    "init",
    "getDefaultErrback",
    "qxc",
    "Init",
    "requirejs",
    "config",
    "map",
    "paths",
    "global",
    "undef",
    "Error",
    "topReq",
    "dataMain",
    "src",
    "subPath",
    "bootstrapConfig",
    "hasOwn",
    "prototype",
    "hasOwnProperty",
    "contexts",
    "queue",
    "currDirRegExp",
    "urlRegExp",
    "commentRegExp",
    "cjsRequireRegExp",
    "jsSuffixRegExp",
    "slice",
    "Array",
    "asap",
    "undefined",
    "commentReplace",
    "match",
    "singlePrefix",
    "hasProp",
    "obj",
    "prop",
    "call",
    "getOwn",
    "create",
    "eachProp",
    "func",
    "mixin",
    "target",
    "source",
    "force",
    "deepStringMixin",
    "isArray",
    "RegExp",
    "getGlobal",
    "g",
    "split",
    "forEach",
    "part",
    "newContext",
    "contextName",
    "req",
    "main",
    "makeMap",
    "callDep",
    "handlers",
    "checkingLater",
    "load",
    "context",
    "defined",
    "waiting",
    "waitSeconds",
    "baseUrl",
    "bundles",
    "pkgs",
    "shim",
    "mapCache",
    "requireDeferreds",
    "deferreds",
    "calledDefine",
    "calledPlugin",
    "loadCount",
    "startTime",
    "Date",
    "getTime",
    "errCount",
    "trackedErrors",
    "urlFetched",
    "bundlesMap",
    "asyncResolve",
    "trimDots",
    "ary",
    "i",
    "splice",
    "normalize",
    "name",
    "baseName",
    "applyMap",
    "pkgMain",
    "mapValue",
    "nameParts",
    "j",
    "nameSegment",
    "lastIndex",
    "foundMap",
    "foundI",
    "foundStarMap",
    "starI",
    "baseParts",
    "normalizedBaseParts",
    "starMap",
    "nodeIdCompat",
    "test",
    "replace",
    "charAt",
    "concat",
    "join",
    "outerLoop",
    "makeShimExports",
    "fn",
    "ret",
    "apply",
    "arguments",
    "exports",
    "takeQueue",
    "anonId",
    "args",
    "unshift",
    "shift",
    "deps",
    "exportsFn",
    "makeRequire",
    "relName",
    "topLevel",
    "callback",
    "errback",
    "alt",
    "cfg",
    "then",
    "isBrowser",
    "document",
    "navigator",
    "nameToUrl",
    "moduleName",
    "ext",
    "skipExt",
    "syms",
    "parentModule",
    "url",
    "parentPath",
    "bundleId",
    "urlArgs",
    "toUrl",
    "moduleNamePlusExt",
    "index",
    "lastIndexOf",
    "segment",
    "isRelative",
    "substring",
    "specified",
    "d",
    "onResourceLoad",
    "finished",
    "reject",
    "rejected",
    "makeNormalize",
    "defineModule",
    "factoryCalled",
    "execCb",
    "factory",
    "values",
    "cjsModule",
    "usingExports",
    "indexOf",
    "depFinished",
    "val",
    "depDefined",
    "depCount",
    "depending",
    "depMax",
    "makeDefer",
    "calculatedMap",
    "promise",
    "pr",
    "getDefer",
    "makeErrback",
    "dynaId",
    "requireModules",
    "waitForDep",
    "depMap",
    "catch",
    "makeLoad",
    "fromTextCalled",
    "error",
    "fromText",
    "text",
    "textAlt",
    "n",
    "plainId",
    "execError",
    "p",
    "exec",
    "e",
    "requireType",
    "importScripts",
    "script",
    "createElement",
    "setAttribute",
    "scriptType",
    "charset",
    "async",
    "addEventListener",
    "pathConfig",
    "parentNode",
    "removeChild",
    "documentMode",
    "head",
    "appendChild",
    "callPlugin",
    "plugin",
    "newMap",
    "prn",
    "newId",
    "splitPrefix",
    "prefix",
    "parts",
    "result",
    "prefixNormalized",
    "cacheKey",
    "module",
    "uri",
    "breakCycle",
    "traced",
    "processed",
    "depId",
    "dep",
    "check",
    "mid",
    "dfd",
    "notFinished",
    "waitInterval",
    "expired",
    "setTimeout",
    "delayedError",
    "onError",
    "toString",
    "depName",
    "existingContext",
    "objs",
    "v",
    "packages",
    "pkgObj",
    "location",
    "eval",
    "amd",
    "jQuery",
    "_",
    "skipDataMain",
    "querySelectorAll",
    "getAttribute",
    "pop"
  ],
  "mappings": "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",
  "file": "Init.js",
  "sourcesContent": [
    "/**\n * @ignore(requirejs.config)\n * @ignore(require)\n */\nqx.Class.define(\"qxc.require.Init\", {\n    type: \"singleton\",\n    extend: qx.core.Object,\n\n    construct: function() {\n      this.base(arguments);\n\n      this._paths = {};\n      this._map = {};\n\n      this._cssPaths = [];\n    },\n\n    statics: {\n      /**\n       * require is a helper around alameda's 'require' so you don't need,\n       * a 'ignore' in your module see the docs of alameda/requirejs for it.\n       *\n       * @param modules {String[]} List of module ids to load.\n       * @return {qx.Promise} With the mods in an array.\n       */\n      require: function(modules) {\n        return qx.Promise.resolve(require(modules));\n      },\n\n      /**\n       * fireLoadError is the default error handler, you can overwrite it\n       * with getInstance().setDefaultErrback(function()).\n       */\n      fireLoadError: function(err) {\n        throw err;\n      }\n    },\n\n    properties: {\n      defaultErrback: {\n        nullable: true\n      }\n    },\n\n    members: {\n      _initialized: false,\n      _paths: null,\n      _map: null,\n\n      _cssPaths: null,\n\n      /**\n       * addMap adds a map id+value for the requirejs.config call in init.\n       *\n       * @param id {String} Id of the map.\n       * @param value {String} The map.\n       */\n      addMap: function(id, value) {\n        this._map[id] = value;\n      },\n\n      addPath: function(moduleId, path) {\n        if (qx.lang.String.endsWith(path, \".js\")) {\n          path = path.substr(0, path.length - 3);\n        }\n\n        this._paths[moduleId] = path;\n      },\n\n      /**\n       * addResourceManagerPath uses the qx ResourceManager to resolve\n       * the path of the given module and adds it with the help of addPath.\n       *\n       * @param moduleId {String} Module ID for require().\n       * @param path {String} QX resource path of the .js file.\n       */\n      addResourceManagerPath: function(moduleId, path) {\n        var rmPath = qx.util.ResourceManager.getInstance().toUri(path);\n        this.addPath(moduleId, rmPath);\n      },\n\n      /**\n       * See http://requirejs.org/docs/faq-advanced.html#css for more\n       * infos about loading css.\n       *\n       * @param path {String}\n       */\n      addCss : function(path) {\n        this._cssPaths.push(path);\n      },\n\n      /**\n       * addResourceManagerCss uses the qx ResourceManager to resolve\n       * the path of the given module and adds it with the help of addCss.\n       *\n       * @param path {String} ResourceManager path to the css.\n       */\n      addResourceManagerCss : function(path) {\n        var rmPath = qx.util.ResourceManager.getInstance().toUri(path);\n        this.addCss(rmPath);\n      },\n\n      init: function() {\n        if (this._initialized) {\n          return;\n        }\n\n        var defaultErrback = this.getDefaultErrback();\n        if (!defaultErrback) {\n          defaultErrback = qxc.require.Init.fireLoadError;\n        }\n\n        requirejs.config({\n          defaultErrback: defaultErrback,\n          map: this._map,\n          paths: this._paths\n        });\n\n        this._initialized = true;\n      }\n    }\n  });\n\n/**\n * @license alameda 1.2.1 Copyright jQuery Foundation and other contributors.\n * Released under MIT license, https://github.com/requirejs/alameda/blob/master/LICENSE\n */\n// Going sloppy because loader plugin execs may depend on non-strict execution.\n/*jslint sloppy: true, nomen: true, regexp: true */\n/*global document, navigator, importScripts, Promise, setTimeout */\n\nvar requirejs, require, define;\n(function (global, Promise, undef) {\n  if (!Promise) {\n    throw new Error('No Promise implementation available');\n  }\n\n  var topReq, dataMain, src, subPath,\n    bootstrapConfig = requirejs || require,\n    hasOwn = Object.prototype.hasOwnProperty,\n    contexts = {},\n    queue = [],\n    currDirRegExp = /^\\.\\//,\n    urlRegExp = /^\\/|\\:|\\?|\\.js$/,\n    commentRegExp = /\\/\\*[\\s\\S]*?\\*\\/|([^:\"'=]|^)\\/\\/.*$/mg,\n    cjsRequireRegExp = /[^.]\\s*require\\s*\\(\\s*[\"']([^'\"\\s]+)[\"']\\s*\\)/g,\n    jsSuffixRegExp = /\\.js$/,\n    slice = Array.prototype.slice;\n\n  if (typeof requirejs === 'function') {\n    return;\n  }\n\n  var asap = Promise.resolve(undefined);\n\n  // Could match something like ')//comment', do not lose the prefix to comment.\n  function commentReplace(match, singlePrefix) {\n    return singlePrefix || '';\n  }\n\n  function hasProp(obj, prop) {\n    return hasOwn.call(obj, prop);\n  }\n\n  function getOwn(obj, prop) {\n    return obj && hasProp(obj, prop) && obj[prop];\n  }\n\n  function obj() {\n    return Object.create(null);\n  }\n\n  /**\n   * Cycles over properties in an object and calls a function for each\n   * property value. If the function returns a truthy value, then the\n   * iteration is stopped.\n   */\n  function eachProp(obj, func) {\n    var prop;\n    for (prop in obj) {\n      if (hasProp(obj, prop)) {\n        if (func(obj[prop], prop)) {\n          break;\n        }\n      }\n    }\n  }\n\n  /**\n   * Simple function to mix in properties from source into target,\n   * but only if target does not already have a property of the same name.\n   */\n  function mixin(target, source, force, deepStringMixin) {\n    if (source) {\n      eachProp(source, function (value, prop) {\n        if (force || !hasProp(target, prop)) {\n          if (deepStringMixin && typeof value === 'object' && value &&\n            !Array.isArray(value) && typeof value !== 'function' &&\n            !(value instanceof RegExp)) {\n\n            if (!target[prop]) {\n              target[prop] = {};\n            }\n            mixin(target[prop], value, force, deepStringMixin);\n          } else {\n            target[prop] = value;\n          }\n        }\n      });\n    }\n    return target;\n  }\n\n  // Allow getting a global that expressed in\n  // dot notation, like 'a.b.c'.\n  function getGlobal(value) {\n    if (!value) {\n      return value;\n    }\n    var g = global;\n    value.split('.').forEach(function (part) {\n      g = g[part];\n    });\n    return g;\n  }\n\n  function newContext(contextName) {\n    var req, main, makeMap, callDep, handlers, checkingLater, load, context,\n      defined = obj(),\n      waiting = obj(),\n      config = {\n        // Defaults. Do not set a default for map\n        // config to speed up normalize(), which\n        // will run faster if there is no default.\n        waitSeconds: 7,\n        baseUrl: './',\n        paths: {},\n        bundles: {},\n        pkgs: {},\n        shim: {},\n        config: {}\n      },\n      mapCache = obj(),\n      requireDeferreds = [],\n      deferreds = obj(),\n      calledDefine = obj(),\n      calledPlugin = obj(),\n      loadCount = 0,\n      startTime = (new Date()).getTime(),\n      errCount = 0,\n      trackedErrors = obj(),\n      urlFetched = obj(),\n      bundlesMap = obj(),\n      asyncResolve = Promise.resolve();\n\n    /**\n     * Trims the . and .. from an array of path segments.\n     * It will keep a leading path segment if a .. will become\n     * the first path segment, to help with module name lookups,\n     * which act like paths, but can be remapped. But the end result,\n     * all paths that use this function should look normalized.\n     * NOTE: this method MODIFIES the input array.\n     * @param {Array} ary the array of path segments.\n     */\n    function trimDots(ary) {\n      var i, part, length = ary.length;\n      for (i = 0; i < length; i++) {\n        part = ary[i];\n        if (part === '.') {\n          ary.splice(i, 1);\n          i -= 1;\n        } else if (part === '..') {\n          // If at the start, or previous value is still ..,\n          // keep them so that when converted to a path it may\n          // still work when converted to a path, even though\n          // as an ID it is less than ideal. In larger point\n          // releases, may be better to just kick out an error.\n          if (i === 0 || (i === 1 && ary[2] === '..') || ary[i - 1] === '..') {\n            continue;\n          } else if (i > 0) {\n            ary.splice(i - 1, 2);\n            i -= 2;\n          }\n        }\n      }\n    }\n\n    /**\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @param {Boolean} applyMap apply the map config to the value. Should\n     * only be done if this normalization is for a dependency ID.\n     * @returns {String} normalized name\n     */\n    function normalize(name, baseName, applyMap) {\n      var pkgMain, mapValue, nameParts, i, j, nameSegment, lastIndex,\n        foundMap, foundI, foundStarMap, starI,\n        baseParts = baseName && baseName.split('/'),\n        normalizedBaseParts = baseParts,\n        map = config.map,\n        starMap = map && map['*'];\n\n\n      //Adjust any relative paths.\n      if (name) {\n        name = name.split('/');\n        lastIndex = name.length - 1;\n\n        // If wanting node ID compatibility, strip .js from end\n        // of IDs. Have to do this here, and not in nameToUrl\n        // because node allows either .js or non .js to map\n        // to same file.\n        if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n          name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n        }\n\n        // Starts with a '.' so need the baseName\n        if (name[0].charAt(0) === '.' && baseParts) {\n          //Convert baseName to array, and lop off the last part,\n          //so that . matches that 'directory' and not name of the baseName's\n          //module. For instance, baseName of 'one/two/three', maps to\n          //'one/two/three.js', but we want the directory, 'one/two' for\n          //this normalization.\n          normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);\n          name = normalizedBaseParts.concat(name);\n        }\n\n        trimDots(name);\n        name = name.join('/');\n      }\n\n      // Apply map config if available.\n      if (applyMap && map && (baseParts || starMap)) {\n        nameParts = name.split('/');\n\n        outerLoop: for (i = nameParts.length; i > 0; i -= 1) {\n          nameSegment = nameParts.slice(0, i).join('/');\n\n          if (baseParts) {\n            // Find the longest baseName segment match in the config.\n            // So, do joins on the biggest to smallest lengths of baseParts.\n            for (j = baseParts.length; j > 0; j -= 1) {\n              mapValue = getOwn(map, baseParts.slice(0, j).join('/'));\n\n              // baseName segment has config, find if it has one for\n              // this name.\n              if (mapValue) {\n                mapValue = getOwn(mapValue, nameSegment);\n                if (mapValue) {\n                  // Match, update name to the new value.\n                  foundMap = mapValue;\n                  foundI = i;\n                  break outerLoop;\n                }\n              }\n            }\n          }\n\n          // Check for a star map match, but just hold on to it,\n          // if there is a shorter segment match later in a matching\n          // config, then favor over this star map.\n          if (!foundStarMap && starMap && getOwn(starMap, nameSegment)) {\n            foundStarMap = getOwn(starMap, nameSegment);\n            starI = i;\n          }\n        }\n\n        if (!foundMap && foundStarMap) {\n          foundMap = foundStarMap;\n          foundI = starI;\n        }\n\n        if (foundMap) {\n          nameParts.splice(0, foundI, foundMap);\n          name = nameParts.join('/');\n        }\n      }\n\n      // If the name points to a package's name, use\n      // the package main instead.\n      pkgMain = getOwn(config.pkgs, name);\n\n      return pkgMain ? pkgMain : name;\n    }\n\n    function makeShimExports(value) {\n      function fn() {\n        var ret;\n        if (value.init) {\n          ret = value.init.apply(global, arguments);\n        }\n        return ret || (value.exports && getGlobal(value.exports));\n      }\n      return fn;\n    }\n\n    function takeQueue(anonId) {\n      var i, id, args, shim;\n      for (i = 0; i < queue.length; i += 1) {\n        // Peek to see if anon\n        if (typeof queue[i][0] !== 'string') {\n          if (anonId) {\n            queue[i].unshift(anonId);\n            anonId = undef;\n          } else {\n            // Not our anon module, stop.\n            break;\n          }\n        }\n        args = queue.shift();\n        id = args[0];\n        i -= 1;\n\n        if (!(id in defined) && !(id in waiting)) {\n          if (id in deferreds) {\n            main.apply(undef, args);\n          } else {\n            waiting[id] = args;\n          }\n        }\n      }\n\n      // if get to the end and still have anonId, then could be\n      // a shimmed dependency.\n      if (anonId) {\n        shim = getOwn(config.shim, anonId) || {};\n        main(anonId, shim.deps || [], shim.exportsFn);\n      }\n    }\n\n    function makeRequire(relName, topLevel) {\n      var req = function (deps, callback, errback, alt) {\n        var name, cfg;\n\n        if (topLevel) {\n          takeQueue();\n        }\n\n        if (typeof deps === \"string\") {\n          if (handlers[deps]) {\n            return handlers[deps](relName);\n          }\n          // Just return the module wanted. In this scenario, the\n          // deps arg is the module name, and second arg (if passed)\n          // is just the relName.\n          // Normalize module name, if it contains . or ..\n          name = makeMap(deps, relName, true).id;\n          if (!(name in defined)) {\n            throw new Error('Not loaded: ' + name);\n          }\n          return defined[name];\n        } else if (deps && !Array.isArray(deps)) {\n          // deps is a config object, not an array.\n          cfg = deps;\n          deps = undef;\n\n          if (Array.isArray(callback)) {\n            // callback is an array, which means it is a dependency list.\n            // Adjust args if there are dependencies\n            deps = callback;\n            callback = errback;\n            errback = alt;\n          }\n\n          if (topLevel) {\n            // Could be a new context, so call returned require\n            return req.config(cfg)(deps, callback, errback);\n          }\n        }\n\n        // Support require(['a'])\n        callback = callback || function () {\n          // In case used later as a promise then value, return the\n          // arguments as an array.\n          return slice.call(arguments, 0);\n        };\n\n        // Complete async to maintain expected execution semantics.\n        return asyncResolve.then(function () {\n          // Grab any modules that were defined after a require call.\n          takeQueue();\n\n          return main(undef, deps || [], callback, errback, relName);\n        });\n      };\n\n      req.isBrowser = typeof document !== 'undefined' &&\n        typeof navigator !== 'undefined';\n\n      req.nameToUrl = function (moduleName, ext, skipExt) {\n        var paths, syms, i, parentModule, url,\n          parentPath, bundleId,\n          pkgMain = getOwn(config.pkgs, moduleName);\n\n        if (pkgMain) {\n          moduleName = pkgMain;\n        }\n\n        bundleId = getOwn(bundlesMap, moduleName);\n\n        if (bundleId) {\n          return req.nameToUrl(bundleId, ext, skipExt);\n        }\n\n        // If a colon is in the URL, it indicates a protocol is used and it is\n        // just an URL to a file, or if it starts with a slash, contains a query\n        // arg (i.e. ?) or ends with .js, then assume the user meant to use an\n        // url and not a module id. The slash is important for protocol-less\n        // URLs as well as full paths.\n        if (urlRegExp.test(moduleName)) {\n          // Just a plain path, not module name lookup, so just return it.\n          // Add extension if it is included. This is a bit wonky, only non-.js\n          // things pass an extension, this method probably needs to be\n          // reworked.\n          url = moduleName + (ext || '');\n        } else {\n          // A module that needs to be converted to a path.\n          paths = config.paths;\n\n          syms = moduleName.split('/');\n          // For each module name segment, see if there is a path\n          // registered for it. Start with most specific name\n          // and work up from it.\n          for (i = syms.length; i > 0; i -= 1) {\n            parentModule = syms.slice(0, i).join('/');\n\n            parentPath = getOwn(paths, parentModule);\n            if (parentPath) {\n              // If an array, it means there are a few choices,\n              // Choose the one that is desired\n              if (Array.isArray(parentPath)) {\n                parentPath = parentPath[0];\n              }\n              syms.splice(0, i, parentPath);\n              break;\n            }\n          }\n\n          // Join the path parts together, then figure out if baseUrl is needed.\n          url = syms.join('/');\n          url += (ext || (/^data\\:|^blob\\:|\\?/.test(url) || skipExt ? '' : '.js'));\n          url = (url.charAt(0) === '/' ||\n                url.match(/^[\\w\\+\\.\\-]+:/) ? '' : config.baseUrl) + url;\n        }\n\n        return config.urlArgs && !/^blob\\:/.test(url) ?\n               url + config.urlArgs(moduleName, url) : url;\n      };\n\n      /**\n       * Converts a module name + .extension into an URL path.\n       * *Requires* the use of a module name. It does not support using\n       * plain URLs like nameToUrl.\n       */\n      req.toUrl = function (moduleNamePlusExt) {\n        var ext,\n          index = moduleNamePlusExt.lastIndexOf('.'),\n          segment = moduleNamePlusExt.split('/')[0],\n          isRelative = segment === '.' || segment === '..';\n\n        // Have a file extension alias, and it is not the\n        // dots from a relative path.\n        if (index !== -1 && (!isRelative || index > 1)) {\n          ext = moduleNamePlusExt.substring(index, moduleNamePlusExt.length);\n          moduleNamePlusExt = moduleNamePlusExt.substring(0, index);\n        }\n\n        return req.nameToUrl(normalize(moduleNamePlusExt, relName), ext, true);\n      };\n\n      req.defined = function (id) {\n        return makeMap(id, relName, true).id in defined;\n      };\n\n      req.specified = function (id) {\n        id = makeMap(id, relName, true).id;\n        return id in defined || id in deferreds;\n      };\n\n      return req;\n    }\n\n    function resolve(name, d, value) {\n      if (name) {\n        defined[name] = value;\n        if (requirejs.onResourceLoad) {\n          requirejs.onResourceLoad(context, d.map, d.deps);\n        }\n      }\n      d.finished = true;\n      d.resolve(value);\n    }\n\n    function reject(d, err) {\n      d.finished = true;\n      d.rejected = true;\n      d.reject(err);\n    }\n\n    function makeNormalize(relName) {\n      return function (name) {\n        return normalize(name, relName, true);\n      };\n    }\n\n    function defineModule(d) {\n      d.factoryCalled = true;\n\n      var ret,\n        name = d.map.id;\n\n      try {\n        ret = context.execCb(name, d.factory, d.values, defined[name]);\n      } catch(err) {\n        return reject(d, err);\n      }\n\n      if (name) {\n        // Favor return value over exports. If node/cjs in play,\n        // then will not have a return value anyway. Favor\n        // module.exports assignment over exports object.\n        if (ret === undef) {\n          if (d.cjsModule) {\n            ret = d.cjsModule.exports;\n          } else if (d.usingExports) {\n            ret = defined[name];\n          }\n        }\n      } else {\n        // Remove the require deferred from the list to\n        // make cycle searching faster. Do not need to track\n        // it anymore either.\n        requireDeferreds.splice(requireDeferreds.indexOf(d), 1);\n      }\n      resolve(name, d, ret);\n    }\n\n    // This method is attached to every module deferred,\n    // so the \"this\" in here is the module deferred object.\n    function depFinished(val, i) {\n      if (!this.rejected && !this.depDefined[i]) {\n        this.depDefined[i] = true;\n        this.depCount += 1;\n        this.values[i] = val;\n        if (!this.depending && this.depCount === this.depMax) {\n          defineModule(this);\n        }\n      }\n    }\n\n    function makeDefer(name, calculatedMap) {\n      var d = {};\n      d.promise = new Promise(function (resolve, reject) {\n        d.resolve = resolve;\n        d.reject = function(err) {\n          if (!name) {\n            requireDeferreds.splice(requireDeferreds.indexOf(d), 1);\n          }\n          reject(err);\n        };\n      });\n      d.map = name ? (calculatedMap || makeMap(name)) : {};\n      d.depCount = 0;\n      d.depMax = 0;\n      d.values = [];\n      d.depDefined = [];\n      d.depFinished = depFinished;\n      if (d.map.pr) {\n        // Plugin resource ID, implicitly\n        // depends on plugin. Track it in deps\n        // so cycle breaking can work\n        d.deps = [makeMap(d.map.pr)];\n      }\n      return d;\n    }\n\n    function getDefer(name, calculatedMap) {\n      var d;\n      if (name) {\n        d = (name in deferreds) && deferreds[name];\n        if (!d) {\n          d = deferreds[name] = makeDefer(name, calculatedMap);\n        }\n      } else {\n        d = makeDefer();\n        requireDeferreds.push(d);\n      }\n      return d;\n    }\n\n    function makeErrback(d, name) {\n      return function (err) {\n        if (!d.rejected) {\n          if (!err.dynaId) {\n            err.dynaId = 'id' + (errCount += 1);\n            err.requireModules = [name];\n          }\n          reject(d, err);\n        }\n      };\n    }\n\n    function waitForDep(depMap, relName, d, i) {\n      d.depMax += 1;\n\n      // Do the fail at the end to catch errors\n      // in the then callback execution.\n      callDep(depMap, relName).then(function (val) {\n        d.depFinished(val, i);\n      }, makeErrback(d, depMap.id)).catch(makeErrback(d, d.map.id));\n    }\n\n    function makeLoad(id) {\n      var fromTextCalled;\n      function load(value) {\n        // Protect against older plugins that call load after\n        // calling load.fromText\n        if (!fromTextCalled) {\n          resolve(id, getDefer(id), value);\n        }\n      }\n\n      load.error = function (err) {\n        reject(getDefer(id), err);\n      };\n\n      load.fromText = function (text, textAlt) {\n        /*jslint evil: true */\n        var d = getDefer(id),\n          map = makeMap(makeMap(id).n),\n          plainId = map.id,\n          execError;\n\n        fromTextCalled = true;\n\n        // Set up the factory just to be a return of the value from\n        // plainId.\n        d.factory = function (p, val) {\n          return val;\n        };\n\n        // As of requirejs 2.1.0, support just passing the text, to reinforce\n        // fromText only being called once per resource. Still\n        // support old style of passing moduleName but discard\n        // that moduleName in favor of the internal ref.\n        if (textAlt) {\n          text = textAlt;\n        }\n\n        // Transfer any config to this other module.\n        if (hasProp(config.config, id)) {\n          config.config[plainId] = config.config[id];\n        }\n\n        try {\n          req.exec(text);\n        } catch (e) {\n          execError = new Error('fromText eval for ' + plainId +\n                                ' failed: ' + e);\n          execError.requireType = 'fromtexteval';\n          reject(d, execError);\n        }\n\n        // Execute any waiting define created by the plainId\n        takeQueue(plainId);\n\n        // Mark this as a dependency for the plugin\n        // resource\n        d.deps = [map];\n        waitForDep(map, null, d, d.deps.length);\n      };\n\n      return load;\n    }\n\n    load = typeof importScripts === 'function' ?\n        function (map) {\n          var url = map.url;\n          if (urlFetched[url]) {\n            return;\n          }\n          urlFetched[url] = true;\n\n          // Ask for the deferred so loading is triggered.\n          // Do this before loading, since loading is sync.\n          getDefer(map.id);\n          importScripts(url);\n          takeQueue(map.id);\n        } :\n        function (map) {\n          var script,\n            id = map.id,\n            url = map.url;\n\n          if (urlFetched[url]) {\n            return;\n          }\n          urlFetched[url] = true;\n\n          script = document.createElement('script');\n          script.setAttribute('data-requiremodule', id);\n          script.type = config.scriptType || 'text/javascript';\n          script.charset = 'utf-8';\n          script.async = true;\n\n          loadCount += 1;\n\n          script.addEventListener('load', function () {\n            loadCount -= 1;\n            takeQueue(id);\n          }, false);\n          script.addEventListener('error', function () {\n            loadCount -= 1;\n            var err,\n              pathConfig = getOwn(config.paths, id);\n            if (pathConfig && Array.isArray(pathConfig) &&\n                pathConfig.length > 1) {\n              script.parentNode.removeChild(script);\n              // Pop off the first array value, since it failed, and\n              // retry\n              pathConfig.shift();\n              var d = getDefer(id);\n              d.map = makeMap(id);\n              // mapCache will have returned previous map value, update the\n              // url, which will also update mapCache value.\n              d.map.url = req.nameToUrl(id);\n              load(d.map);\n            } else {\n              err = new Error('Load failed: ' + id + ': ' + script.src);\n              err.requireModules = [id];\n              err.requireType = 'scripterror';\n              reject(getDefer(id), err);\n            }\n          }, false);\n\n          script.src = url;\n\n          // If the script is cached, IE10 executes the script body and the\n          // onload handler synchronously here.  That's a spec violation,\n          // so be sure to do this asynchronously.\n          if (document.documentMode === 10) {\n            asap.then(function() {\n              document.head.appendChild(script);\n            });\n          } else {\n            document.head.appendChild(script);\n          }\n        };\n\n    function callPlugin(plugin, map, relName) {\n      plugin.load(map.n, makeRequire(relName), makeLoad(map.id), config);\n    }\n\n    callDep = function (map, relName) {\n      var args, bundleId,\n        name = map.id,\n        shim = config.shim[name];\n\n      if (name in waiting) {\n        args = waiting[name];\n        delete waiting[name];\n        main.apply(undef, args);\n      } else if (!(name in deferreds)) {\n        if (map.pr) {\n          // If a bundles config, then just load that file instead to\n          // resolve the plugin, as it is built into that bundle.\n          if ((bundleId = getOwn(bundlesMap, name))) {\n            map.url = req.nameToUrl(bundleId);\n            load(map);\n          } else {\n            return callDep(makeMap(map.pr)).then(function (plugin) {\n              // Redo map now that plugin is known to be loaded\n              var newMap = map.prn ? map : makeMap(name, relName, true),\n                newId = newMap.id,\n                shim = getOwn(config.shim, newId);\n\n              // Make sure to only call load once per resource. Many\n              // calls could have been queued waiting for plugin to load.\n              if (!(newId in calledPlugin)) {\n                calledPlugin[newId] = true;\n                if (shim && shim.deps) {\n                  req(shim.deps, function () {\n                    callPlugin(plugin, newMap, relName);\n                  });\n                } else {\n                  callPlugin(plugin, newMap, relName);\n                }\n              }\n              return getDefer(newId).promise;\n            });\n          }\n        } else if (shim && shim.deps) {\n          req(shim.deps, function () {\n            load(map);\n          });\n        } else {\n          load(map);\n        }\n      }\n\n      return getDefer(name).promise;\n    };\n\n    // Turns a plugin!resource to [plugin, resource]\n    // with the plugin being undefined if the name\n    // did not have a plugin prefix.\n    function splitPrefix(name) {\n      var prefix,\n        index = name ? name.indexOf('!') : -1;\n      if (index > -1) {\n        prefix = name.substring(0, index);\n        name = name.substring(index + 1, name.length);\n      }\n      return [prefix, name];\n    }\n\n    /**\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     */\n    makeMap = function (name, relName, applyMap) {\n      if (typeof name !== 'string') {\n        return name;\n      }\n\n      var plugin, url, parts, prefix, result, prefixNormalized,\n        cacheKey = name + ' & ' + (relName || '') + ' & ' + !!applyMap;\n\n      parts = splitPrefix(name);\n      prefix = parts[0];\n      name = parts[1];\n\n      if (!prefix && (cacheKey in mapCache)) {\n        return mapCache[cacheKey];\n      }\n\n      if (prefix) {\n        prefix = normalize(prefix, relName, applyMap);\n        plugin = (prefix in defined) && defined[prefix];\n      }\n\n      // Normalize according\n      if (prefix) {\n        if (plugin && plugin.normalize) {\n          name = plugin.normalize(name, makeNormalize(relName));\n          prefixNormalized = true;\n        } else {\n          // If nested plugin references, then do not try to\n          // normalize, as it will not normalize correctly. This\n          // places a restriction on resourceIds, and the longer\n          // term solution is not to normalize until plugins are\n          // loaded and all normalizations to allow for async\n          // loading of a loader plugin. But for now, fixes the\n          // common uses. Details in requirejs#1131\n          name = name.indexOf('!') === -1 ?\n                   normalize(name, relName, applyMap) :\n                   name;\n        }\n      } else {\n        name = normalize(name, relName, applyMap);\n        parts = splitPrefix(name);\n        prefix = parts[0];\n        name = parts[1];\n\n        url = req.nameToUrl(name);\n      }\n\n      // Using ridiculous property names for space reasons\n      result = {\n        id: prefix ? prefix + '!' + name : name, // fullName\n        n: name,\n        pr: prefix,\n        url: url,\n        prn: prefix && prefixNormalized\n      };\n\n      if (!prefix) {\n        mapCache[cacheKey] = result;\n      }\n\n      return result;\n    };\n\n    handlers = {\n      require: function (name) {\n        return makeRequire(name);\n      },\n      exports: function (name) {\n        var e = defined[name];\n        if (typeof e !== 'undefined') {\n          return e;\n        } else {\n          return (defined[name] = {});\n        }\n      },\n      module: function (name) {\n        return {\n          id: name,\n          uri: '',\n          exports: handlers.exports(name),\n          config: function () {\n            return getOwn(config.config, name) || {};\n          }\n        };\n      }\n    };\n\n    function breakCycle(d, traced, processed) {\n      var id = d.map.id;\n\n      traced[id] = true;\n      if (!d.finished && d.deps) {\n        d.deps.forEach(function (depMap) {\n          var depId = depMap.id,\n            dep = !hasProp(handlers, depId) && getDefer(depId, depMap);\n\n          // Only force things that have not completed\n          // being defined, so still in the registry,\n          // and only if it has not been matched up\n          // in the module already.\n          if (dep && !dep.finished && !processed[depId]) {\n            if (hasProp(traced, depId)) {\n              d.deps.forEach(function (depMap, i) {\n                if (depMap.id === depId) {\n                  d.depFinished(defined[depId], i);\n                }\n              });\n            } else {\n              breakCycle(dep, traced, processed);\n            }\n          }\n        });\n      }\n      processed[id] = true;\n    }\n\n    function check(d) {\n      var err, mid, dfd,\n        notFinished = [],\n        waitInterval = config.waitSeconds * 1000,\n        // It is possible to disable the wait interval by using waitSeconds 0.\n        expired = waitInterval &&\n                  (startTime + waitInterval) < (new Date()).getTime();\n\n    if (loadCount === 0) {\n        // If passed in a deferred, it is for a specific require call.\n        // Could be a sync case that needs resolution right away.\n        // Otherwise, if no deferred, means it was the last ditch\n        // timeout-based check, so check all waiting require deferreds.\n        if (d) {\n          if (!d.finished) {\n            breakCycle(d, {}, {});\n          }\n        } else if (requireDeferreds.length) {\n          requireDeferreds.forEach(function (d) {\n            breakCycle(d, {}, {});\n          });\n        }\n      }\n\n      // If still waiting on loads, and the waiting load is something\n      // other than a plugin resource, or there are still outstanding\n      // scripts, then just try back later.\n      if (expired) {\n        // If wait time expired, throw error of unloaded modules.\n        for (mid in deferreds) {\n          dfd = deferreds[mid];\n          if (!dfd.finished) {\n            notFinished.push(dfd.map.id);\n          }\n        }\n        err = new Error('Timeout for modules: ' + notFinished);\n        err.requireModules = notFinished;\n        err.requireType = 'timeout';\n        notFinished.forEach(function (id) {\n          reject(getDefer(id), err);\n        });\n      } else if (loadCount || requireDeferreds.length) {\n        // Something is still waiting to load. Wait for it, but only\n        // if a later check is not already scheduled. Using setTimeout\n        // because want other things in the event loop to happen,\n        // to help in dependency resolution, and this is really a\n        // last ditch check, mostly for detecting timeouts (cycles\n        // should come through the main() use of check()), so it can\n        // wait a bit before doing the final check.\n        if (!checkingLater) {\n          checkingLater = true;\n          setTimeout(function () {\n            checkingLater = false;\n            check();\n          }, 70);\n        }\n      }\n    }\n\n    // Used to break out of the promise try/catch chains.\n    function delayedError(e) {\n      setTimeout(function () {\n        if (!e.dynaId || !trackedErrors[e.dynaId]) {\n          trackedErrors[e.dynaId] = true;\n          req.onError(e);\n        }\n      });\n      return e;\n    }\n\n    main = function (name, deps, factory, errback, relName) {\n      if (name) {\n        // Only allow main calling once per module.\n        if (name in calledDefine) {\n          return;\n        }\n        calledDefine[name] = true;\n      }\n\n      var d = getDefer(name);\n\n      // This module may not have dependencies\n      if (deps && !Array.isArray(deps)) {\n        // deps is not an array, so probably means\n        // an object literal or factory function for\n        // the value. Adjust args.\n        factory = deps;\n        deps = [];\n      }\n\n      // Create fresh array instead of modifying passed in value.\n      deps = deps ? slice.call(deps, 0) : null;\n\n      if (!errback) {\n        if (hasProp(config, 'defaultErrback')) {\n          if (config.defaultErrback) {\n            errback = config.defaultErrback;\n          }\n        } else {\n          errback = delayedError;\n        }\n      }\n\n      if (errback) {\n         d.promise.catch(errback);\n      }\n\n      // Use name if no relName\n      relName = relName || name;\n\n      // Call the factory to define the module, if necessary.\n      if (typeof factory === 'function') {\n\n        if (!deps.length && factory.length) {\n          // Remove comments from the callback string,\n          // look for require calls, and pull them into the dependencies,\n          // but only if there are function args.\n          factory\n            .toString()\n            .replace(commentRegExp, commentReplace)\n            .replace(cjsRequireRegExp, function (match, dep) {\n              deps.push(dep);\n            });\n\n          // May be a CommonJS thing even without require calls, but still\n          // could use exports, and module. Avoid doing exports and module\n          // work though if it just needs require.\n          // REQUIRES the function to expect the CommonJS variables in the\n          // order listed below.\n          deps = (factory.length === 1 ?\n              ['require'] :\n              ['require', 'exports', 'module']).concat(deps);\n        }\n\n        // Save info for use later.\n        d.factory = factory;\n        d.deps = deps;\n\n        d.depending = true;\n        deps.forEach(function (depName, i) {\n          var depMap;\n          deps[i] = depMap = makeMap(depName, relName, true);\n          depName = depMap.id;\n\n          // Fast path CommonJS standard dependencies.\n          if (depName === \"require\") {\n            d.values[i] = handlers.require(name);\n          } else if (depName === \"exports\") {\n            // CommonJS module spec 1.1\n            d.values[i] = handlers.exports(name);\n            d.usingExports = true;\n          } else if (depName === \"module\") {\n            // CommonJS module spec 1.1\n            d.values[i] = d.cjsModule = handlers.module(name);\n          } else if (depName === undefined) {\n            d.values[i] = undefined;\n          } else {\n            waitForDep(depMap, relName, d, i);\n          }\n        });\n        d.depending = false;\n\n        // Some modules just depend on the require, exports, modules, so\n        // trigger their definition here if so.\n        if (d.depCount === d.depMax) {\n          defineModule(d);\n        }\n      } else if (name) {\n        // May just be an object definition for the module. Only\n        // worry about defining if have a module name.\n        resolve(name, d, factory);\n      }\n\n      startTime = (new Date()).getTime();\n\n      if (!name) {\n        check(d);\n      }\n\n      return d.promise;\n    };\n\n    req = makeRequire(null, true);\n\n    /*\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     */\n    req.config = function (cfg) {\n      if (cfg.context && cfg.context !== contextName) {\n        var existingContext = getOwn(contexts, cfg.context);\n        if (existingContext) {\n          return existingContext.req.config(cfg);\n        } else {\n          return newContext(cfg.context).config(cfg);\n        }\n      }\n\n      // Since config changed, mapCache may not be valid any more.\n      mapCache = obj();\n\n      // Make sure the baseUrl ends in a slash.\n      if (cfg.baseUrl) {\n        if (cfg.baseUrl.charAt(cfg.baseUrl.length - 1) !== '/') {\n          cfg.baseUrl += '/';\n        }\n      }\n\n      // Convert old style urlArgs string to a function.\n      if (typeof cfg.urlArgs === 'string') {\n        var urlArgs = cfg.urlArgs;\n        cfg.urlArgs = function(id, url) {\n          return (url.indexOf('?') === -1 ? '?' : '&') + urlArgs;\n        };\n      }\n\n      // Save off the paths and packages since they require special processing,\n      // they are additive.\n      var shim = config.shim,\n        objs = {\n          paths: true,\n          bundles: true,\n          config: true,\n          map: true\n        };\n\n      eachProp(cfg, function (value, prop) {\n        if (objs[prop]) {\n          if (!config[prop]) {\n            config[prop] = {};\n          }\n          mixin(config[prop], value, true, true);\n        } else {\n          config[prop] = value;\n        }\n      });\n\n      // Reverse map the bundles\n      if (cfg.bundles) {\n        eachProp(cfg.bundles, function (value, prop) {\n          value.forEach(function (v) {\n            if (v !== prop) {\n              bundlesMap[v] = prop;\n            }\n          });\n        });\n      }\n\n      // Merge shim\n      if (cfg.shim) {\n        eachProp(cfg.shim, function (value, id) {\n          // Normalize the structure\n          if (Array.isArray(value)) {\n            value = {\n              deps: value\n            };\n          }\n          if ((value.exports || value.init) && !value.exportsFn) {\n            value.exportsFn = makeShimExports(value);\n          }\n          shim[id] = value;\n        });\n        config.shim = shim;\n      }\n\n      // Adjust packages if necessary.\n      if (cfg.packages) {\n        cfg.packages.forEach(function (pkgObj) {\n          var location, name;\n\n          pkgObj = typeof pkgObj === 'string' ? { name: pkgObj } : pkgObj;\n\n          name = pkgObj.name;\n          location = pkgObj.location;\n          if (location) {\n            config.paths[name] = pkgObj.location;\n          }\n\n          // Save pointer to main module ID for pkg name.\n          // Remove leading dot in main, so main paths are normalized,\n          // and remove any trailing .js, since different package\n          // envs have different conventions: some use a module name,\n          // some use a file name.\n          config.pkgs[name] = pkgObj.name + '/' + (pkgObj.main || 'main')\n                 .replace(currDirRegExp, '')\n                 .replace(jsSuffixRegExp, '');\n        });\n      }\n\n      // If a deps array or a config callback is specified, then call\n      // require with those args. This is useful when require is defined as a\n      // config object before require.js is loaded.\n      if (cfg.deps || cfg.callback) {\n        req(cfg.deps, cfg.callback);\n      }\n\n      return req;\n    };\n\n    req.onError = function (err) {\n      throw err;\n    };\n\n    context = {\n      id: contextName,\n      defined: defined,\n      waiting: waiting,\n      config: config,\n      deferreds: deferreds,\n      req: req,\n      execCb: function execCb(name, callback, args, exports) {\n        return callback.apply(exports, args);\n      }\n    };\n\n    contexts[contextName] = context;\n\n    return req;\n  }\n\n  requirejs = topReq = newContext('_');\n\n  if (typeof require !== 'function') {\n    require = topReq;\n  }\n\n  /**\n   * Executes the text. Normally just uses eval, but can be modified\n   * to use a better, environment-specific call. Only used for transpiling\n   * loader plugins, not for plain JS modules.\n   * @param {String} text the text to execute/evaluate.\n   */\n  topReq.exec = function (text) {\n    /*jslint evil: true */\n    return eval(text);\n  };\n\n  topReq.contexts = contexts;\n\n  define = function () {\n    queue.push(slice.call(arguments, 0));\n  };\n\n  define.amd = {\n    jQuery: true\n  };\n\n  if (bootstrapConfig) {\n    topReq.config(bootstrapConfig);\n  }\n\n  // data-main support.\n  if (topReq.isBrowser && !contexts._.config.skipDataMain) {\n    dataMain = document.querySelectorAll('script[data-main]')[0];\n    dataMain = dataMain && dataMain.getAttribute('data-main');\n    if (dataMain) {\n      // Strip off any trailing .js since dataMain is now\n      // like a module name.\n      dataMain = dataMain.replace(jsSuffixRegExp, '');\n\n      // Set final baseUrl if there is not already an explicit one,\n      // but only do so if the data-main value is not a loader plugin\n      // module ID.\n      if ((!bootstrapConfig || !bootstrapConfig.baseUrl) &&\n          dataMain.indexOf('!') === -1) {\n        // Pull off the directory of data-main for use as the\n        // baseUrl.\n        src = dataMain.split('/');\n        dataMain = src.pop();\n        subPath = src.length ? src.join('/')  + '/' : './';\n\n        topReq.config({baseUrl: subPath});\n      }\n\n      topReq([dataMain]);\n    }\n  }\n}(this, (typeof Promise !== 'undefined' ? Promise : undefined)));\n"
  ]
}